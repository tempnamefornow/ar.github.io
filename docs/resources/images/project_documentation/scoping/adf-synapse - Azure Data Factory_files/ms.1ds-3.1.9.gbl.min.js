!function(i){"use strict";var o="function",s="object",X="undefined",f="prototype",a="hasOwnProperty",n=Object,l=n[f],t=n.assign,r=n.create,u=n.defineProperty,p=l[a];function d(){return typeof globalThis!==X&&globalThis?globalThis:typeof self!==X&&self?self:typeof window!==X&&window?window:typeof global!==X&&global?global:null}function g(e){throw new TypeError(e)}function m(e){if(r)return r(e);if(null==e)return{};var t=typeof e;function n(){}return t!==s&&t!==o&&g("Object prototype may only be an Object:"+e),n[f]=e,new n}(d()||{}).Symbol,(d()||{}).Reflect;var A=t||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])l[a].call(t,r)&&(e[r]=t[r]);return e},v=function(e,t){return(v=n.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[a](n)&&(e[n]=t[n])})(e,t)};function y(e,t){function n(){this.constructor=e}typeof t!==o&&null!==t&&g("Class extends value "+String(t)+" is not a constructor or null"),v(e,t),e[f]=null===t?m(t):(n[f]=t[f],new n)}function I(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e}var Y={"Unknown":0,"NonRetryableStatus":1,"InvalidEvent":2,"SizeLimitExceeded":3,"KillSwitch":4,"QueueFull":5},T="constructor",C="prototype",E="function",b="_dynInstFuncs",N="_isDynProxy",P="_dynClass",x="_dynInstChk",_=x,k="_dfOpts",O="_unknown_",R="__proto__",D="useBaseInst",L="setInstFuncs",M=Object,U=M.getPrototypeOf,V=0;function B(e,t){return e&&M[C].hasOwnProperty.call(e,t)}function F(e){return e&&(e===M[C]||e===Array[C])}function W(e){return F(e)||e===Function[C]}function K(e){if(e){if(U)return U(e);var t=e[R]||e[C]||(e[T]?e[T][C]:null);if(t)return t}return null}function J(e,t){var n=[],i=M.getOwnPropertyNames;if(i)n=i(e);else for(var r in e)"string"==typeof r&&B(e,r)&&n.push(r);if(n&&0<n.length)for(var a=0;a<n.length;a++)t(n[a])}function Q(e,t,n){return t!==T&&typeof e[t]===E&&(n||B(e,t))}function Z(e){throw new TypeError("DynamicProto: "+e)}function $(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}function ee(t,e,n,i,r){function a(r,a){function o(){var e,t,n,i;return(function(e,t,n,i){var r=null;if(e&&B(n,P)){var a=e[b]||{};if((r=(a[n[P]]||{})[t])||Z("Missing ["+t+"] "+E),!r[x]&&!1!==a[_]){for(var o=!B(e,t),s=K(e),c=[];o&&s&&!W(s)&&!$(c,s);){var l=s[t];if(l){o=l===i;break}c.push(s),s=K(s)}try{o&&(e[t]=r),r[x]=1}catch(e){a[_]=!1}}}return r}(this,a,r,o)||(n=o,typeof(i=(i=(t=r)[e=a])===n?K(t)[e]:i)!==E&&Z("["+e+"] is not a "+E),i)).apply(this,arguments)}return o[N]=1,o}var o,s;F(t)||(o=n[b]=n[b]||{},s=o[e]=o[e]||{},!1!==o[_]&&(o[_]=!!r),J(n,function(e){Q(n,e,!1)&&n[e]!==i[e]&&(s[e]=n[e],delete n[e],B(t,e)&&(!t[e]||t[e][N])||(t[e]=a(t,e)))}))}function te(e,t){return B(e,C)?e.name||t||O:((e||{})[T]||{}).name||t||O}function ne(e,t,u,n){B(e,C)||Z("theClass is an invalid class definition.");var i,r,a=e[C],o=(!function(e,t){if(U)for(var n=[],i=K(t);i&&!W(i)&&!$(n,i);){if(i===e)return 1;n.push(i),i=K(i)}}(a,t)&&Z("["+te(e)+"] is not in class hierarchy of ["+te(t)+"]"),null),s=(B(a,P)?o=a[P]:(o="_dynCls$"+te(e,"_")+"$"+V,V++,a[P]=o),ne[k]),c=!!s[D],l=(c&&n&&void 0!==n[D]&&(c=!!n[D]),r={},J(i=t,function(e){!r[e]&&Q(i,e,!1)&&(r[e]=i[e])}),r),c=(u(t,function(e,t,n,a){function i(e,t,n){var i,r=t[n];return r[N]&&a&&(!1!==(i=e[b]||{})[_]&&(r=(i[t[P]]||{})[n]||r)),function(){return r.apply(e,arguments)}}for(var r={},o=(J(n,function(e){r[e]=i(t,n,e)}),K(e)),s=[];o&&!W(o)&&!$(s,o);)J(o,function(e){!r[e]&&Q(o,e,!U)&&(r[e]=i(t,o,e))}),s.push(o),o=K(o);return r}(a,t,l,c)),!!U&&!!s[L]);ee(a,o,t,l,!1!==(c=c&&n?!!n[L]:c))}ne[k]={"setInstFuncs":!0,"useBaseInst":!0},(e=H=H||{})[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING";var H,S={"BrowserDoesNotSupportLocalStorage":0,"BrowserCannotReadLocalStorage":1,"BrowserCannotReadSessionStorage":2,"BrowserCannotWriteLocalStorage":3,"BrowserCannotWriteSessionStorage":4,"BrowserFailedRemovalFromLocalStorage":5,"BrowserFailedRemovalFromSessionStorage":6,"CannotSendEmptyTelemetry":7,"ClientPerformanceMathError":8,"ErrorParsingAISessionCookie":9,"ErrorPVCalc":10,"ExceptionWhileLoggingError":11,"FailedAddingTelemetryToBuffer":12,"FailedMonitorAjaxAbort":13,"FailedMonitorAjaxDur":14,"FailedMonitorAjaxOpen":15,"FailedMonitorAjaxRSC":16,"FailedMonitorAjaxSend":17,"FailedMonitorAjaxGetCorrelationHeader":18,"FailedToAddHandlerForOnBeforeUnload":19,"FailedToSendQueuedTelemetry":20,"FailedToReportDataLoss":21,"FlushFailed":22,"MessageLimitPerPVExceeded":23,"MissingRequiredFieldSpecification":24,"NavigationTimingNotSupported":25,"OnError":26,"SessionRenewalDateIsZero":27,"SenderNotInitialized":28,"StartTrackEventFailed":29,"StopTrackEventFailed":30,"StartTrackFailed":31,"StopTrackFailed":32,"TelemetrySampledAndNotSent":33,"TrackEventFailed":34,"TrackExceptionFailed":35,"TrackMetricFailed":36,"TrackPVFailed":37,"TrackPVFailedCalc":38,"TrackTraceFailed":39,"TransmissionFailed":40,"FailedToSetStorageBuffer":41,"FailedToRestoreStorageBuffer":42,"InvalidBackendResponse":43,"FailedToFixDepricatedValues":44,"InvalidDurationValue":45,"TelemetryEnvelopeInvalid":46,"CreateEnvelopeError":47,"CannotSerializeObject":48,"CannotSerializeObjectNonSerializable":49,"CircularReferenceDetected":50,"ClearAuthContextFailed":51,"ExceptionTruncated":52,"IllegalCharsInName":53,"ItemNotInArray":54,"MaxAjaxPerPVExceeded":55,"MessageTruncated":56,"NameTooLong":57,"SampleRateOutOfRange":58,"SetAuthContextFailed":59,"SetAuthContextFailedAccountName":60,"StringValueTooLong":61,"StartCalledMoreThanOnce":62,"StopCalledWithoutStart":63,"TelemetryInitializerFailed":64,"TrackArgumentsNotSpecified":65,"UrlTooLong":66,"SessionStorageBufferFull":67,"CannotAccessCookie":68,"IdTooLong":69,"InvalidEvent":70,"FailedMonitorAjaxSetRequestHeader":71,"SendBrowserInfoOnUserInit":72,"PluginException":73,"NotificationException":74,"SnippetScriptLoadFailure":99,"InvalidInstrumentationKey":100,"CannotParseAiBlobValue":101,"InvalidContentBlob":102,"TrackPageActionEventFailed":103,"FailedAddingCustomDefinedRequestContext":104,"InMemoryStorageBufferFull":105},ie="on",re="attachEvent",ae="addEventListener",oe=u,se=n.freeze;function ce(e){return l.toString.call(e)}function le(e){return void 0===e||typeof e===X}function z(e){return null===e||le(e)}function ue(e){return!z(e)}function fe(e,t){return e&&p.call(e,t)}function pe(e){return typeof e===s}function w(e){return typeof e===o}function de(e,t,n,i){void 0===i&&(i=!1);var r=!1;if(!z(e))try{z(e[ae])?z(e[re])||(e[re](ie+t,n),r=!0):(e[ae](t,n,i),r=!0)}catch(e){}return r}function ge(e,t){if(e)for(var n in e)p.call(e,n)&&t.call(e,n,e[n])}function he(e,t){if(e&&t){var n=t.length,i=e.length;if(e===t)return!0;if(n<=i){for(var r=i-1,a=n-1;0<=a;a--){if(e[r]!=t[a])return!1;r--}return!0}}return!1}function me(e,t){var n=!1;if(e&&t){var i=t.length;if(e===t)return!0;if(e.length>=i){for(var r=0;r<i;r++)if(e[r]!==t[r])return!1;n=!0}}return n}function ve(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}function ye(e){return"[object Date]"===ce(e)}function Ie(e){return"[object Array]"===ce(e)}function Te(e){return"[object Error]"===ce(e)}function Ce(e){return"string"==typeof e}function Ee(e){return"number"==typeof e}function be(e){return"boolean"==typeof e}function Ne(e){var t;if(ye(e))return t=function(e){var t=String(e);return t=1===t.length?"0"+t:t},e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}function G(e,t,n){var i=e.length;try{for(var r=0;r<i&&!(r in e&&-1===t.call(n||e,e[r],r,e));r++);}catch(e){}}function Se(e,t,n){var i=e.length,r=n||0;try{for(var a=Math.max(0<=r?r:i-Math.abs(r),0);a<i;a++)if(a in e&&e[a]===t)return a}catch(e){}return-1}function we(e,t,n){var i=e.length,r=n||e,a=new Array(i);try{for(var o=0;o<i;o++)o in e&&(a[o]=t.call(r,e[o],e))}catch(e){}return a}function Ae(e,t,n){var i,r=e.length,a=0;if(3<=arguments.length)i=n;else{for(;a<r&&!(a in e);)a++;i=e[a++]}for(;a<r;)a in e&&(i=t(i,e[a],a,e)),a++;return i}function Pe(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}var xe=!{"toString":null}.propertyIsEnumerable("toString"),_e=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function ke(e){var t,n=typeof e,i=(n===o||n===s&&null!==e||g("objKeys called on non-object"),[]);for(t in e)e&&p.call(e,t)&&i.push(t);if(xe)for(var r=_e.length,a=0;a<r;a++)e&&p.call(e,_e[a])&&i.push(_e[a]);return i}function Oe(e,t,n,i){if(oe)try{var r={"enumerable":!0,"configurable":!0};return n&&(r.get=n),i&&(r.set=i),oe(e,t,r),!0}catch(e){}return!1}function Re(e){return e=se?se(e):e}function De(){var e=Date;return e.now?e.now():(new e).getTime()}function Le(e){return Te(e)?e.name:""}function h(e,t,n,i,r){var a=n;return e&&((a=e[t])===n||r&&!r(a)||i&&!i(n)||(e[t]=a=n)),a}function Me(e){return!e}function Ue(e){return!!e}function Ve(e){throw new Error(e)}function Be(i,r,a){if(i&&r&&i!==r&&pe(i)&&pe(r))for(var e in r)!function(t){var e,n;Ce(t)&&(w(e=r[t])?a&&!a(t,!0,r,i)||(i[t]=(n=t,function(){return r[n].apply(r,arguments)})):a&&!a(t,!1,r,i)||(fe(i,t)&&delete i[t],Oe(i,t,function(){return r[t]},function(e){r[t]=e})||(i[t]=e)))}(e);return i}function Fe(e){return e=e&&n(t?t({},e):e)}var We="window",Ke="document",ze="navigator",He="history",Ge="location",qe="console",je="performance",Xe="JSON",Ye="crypto",Je="msCrypto",Qe="msie",Ze="trident/",$e=null,et=null,tt=!1,nt=null,it=null;function rt(e,t){var n,i=!1;if(e){try{(i=t in e)||(n=e[f])&&(i=t in n)}catch(e){}if(!i)try{i=!le((new e)[t])}catch(e){}}return i}function at(e){var t=d();return t&&t[e]?t[e]:e===We&&ot()?window:null}function ot(){return Boolean(typeof window===s&&window)}function st(){return ot()?window:at(We)}function ct(){return Boolean(typeof document===s&&document)?document:at(Ke)}function lt(){return Boolean(typeof navigator===s&&navigator)}function ut(){return lt()?navigator:at(ze)}function ft(){return Boolean(typeof history===s&&history)?history:at(He)}function pt(e){if(e&&tt){var t=at("__mockLocation");if(t)return t}return typeof location===s&&location?location:at(Ge)}function dt(){return at(je)}function gt(){return Boolean(typeof JSON===s&&JSON||null!==at(Xe))}function ht(){return gt()?JSON||at(Xe):null}function mt(){var e=ut();return!(!e||!e.product)&&"ReactNative"===e.product}function vt(){var e=ut();return!e||e.userAgent===et&&null!==$e||(e=((et=e.userAgent)||"").toLowerCase(),$e=ve(e,Qe)||ve(e,Ze)),$e}function yt(e){var t=Object[f].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":gt()&&(n=ht().stringify(e)),t+n}function It(){return it=null===it?lt()&&Boolean(ut().sendBeacon):it}function Tt(){return nt=null===nt&&(nt=!0)&&Ct()?nt&&!rt(at("XMLHttpRequest"),"withCredentials"):nt}function Ct(){var e=!1;try{e=!!at("XMLHttpRequest")}catch(e){}return e}function Et(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function bt(e,t){var n,i=typeof console!==X?console:at(qe);i&&(n="log",w(i[n=i[e]?e:n])&&i[n](t))}St.dataType="MessageData";var Nt=St;function St(e,t,n,i){void 0===n&&(n=!1);this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e;var r="",r=(gt()&&(r=ht().stringify(i)),(t?" message:"+Et(t):"")+(i?" props:"+Et(r):""));this.message+=r}function wt(e,t){return(e||{}).logger||new At(t)}var At=function e(i){this.identifier="DiagnosticLogger",this.queue=[];var r=0,u={};ne(e,this,function(l){function e(e,t){var n=i[e];return z(n)?t:n}z(i)&&(i={}),l.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},l.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},l.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},l.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},l.throwInternal=function(e,t,n,i,r){var a=new Nt(t,n,r=void 0!==r&&r,i);if(l.enableDebugExceptions())throw a;var o,s,c=e===H.CRITICAL?"errorToConsole":"warnToConsole";le(a.message)||(o=l.consoleLoggingLevel(),r?(s=+a.messageId,!u[s]&&e<=o&&(l[c](a.message),u[s]=!0)):e<=o&&l[c](a.message),l.logInternalMessage(e,a))},l.warnToConsole=function(e){bt("warn",e)},l.errorToConsole=function(e){bt("error",e)},l.resetInternalMessageCount=function(){r=0,u={}},l.logInternalMessage=function(e,t){var n,i;r>=l.maxInternalMessageLimit()||(i=!0,n="AITR_"+t.messageId,u[n]?i=!1:u[n]=!0,i&&(e<=l.telemetryLoggingLevel()&&(l.queue.push(t),r++),r===l.maxInternalMessageLimit()&&(i=new Nt(S.MessageLimitPerPVExceeded,n="Internal events throttle limit per PageView reached for this app.",!1),l.queue.push(i),l.warnToConsole(n))))}})},Pt=null,xt=(_t.ParentContextKey="parent",_t.ChildrenContextKey="childEvts",_t);function _t(e,r,t){var n,a=this,o=!1;a.start=De(),a.name=e,a.isAsync=t,a.isChildEvt=function(){return!1},w(r)&&(o=Oe(a,"payload",function(){return!n&&w(r)&&(n=r(),r=null),n})),a.getCtx=function(e){return e?(e===_t.ParentContextKey||e===_t.ChildrenContextKey?a:a.ctx||{})[e]:null},a.setCtx=function(e,t){e&&(e===_t.ParentContextKey?(a[e]||(a.isChildEvt=function(){return!0}),a[e]=t):e===_t.ChildrenContextKey?a[e]=t:(a.ctx=a.ctx||{})[e]=t)},a.complete=function(){var e=0,t=a.getCtx(_t.ChildrenContextKey);if(Ie(t))for(var n=0;n<t.length;n++){var i=t[n];i&&(e+=i.time)}a.time=De()-a.start,a.exTime=a.time-e,a.complete=function(){},!o&&w(r)&&(a.payload=r())}}var kt=function e(t){this.ctx={},ne(e,this,function(n){n.create=function(e,t,n){return new xt(e,t,n)},n.fire=function(e){e&&(e.complete(),t&&w(t.perfEvent)&&t.perfEvent(e))},n.setCtx=function(e,t){e&&((n.ctx=n.ctx||{})[e]=t)},n.getCtx=function(e){return(n.ctx||{})[e]}})},Ot="CoreUtils.doPerf";function Rt(e,t,n,i,r){if(e){var a=e;if(a=w(a.getPerfMgr)?a.getPerfMgr():a){var o=void 0,s=a.getCtx(Ot);try{var c,o=a.create(t(),i,r);if(o)return s&&o.setCtx&&(o.setCtx(xt.ParentContextKey,s),s.getCtx&&s.setCtx&&((c=s.getCtx(xt.ChildrenContextKey))||(c=[],s.setCtx(xt.ChildrenContextKey,c)),c.push(o))),a.setCtx(Ot,o),n(o)}catch(e){o&&o.setCtx&&o.setCtx("exception",e)}finally{o&&a.fire(o),a.setCtx(Ot,s)}}}return n()}var Dt=function(r,t){var a=this,o=null,s=w(r.processTelemetry),c=w(r.setNextPlugin);a._hasRun=!1,a.getPlugin=function(){return r},a.getNext=function(){return o},a.setNext=function(e){o=e},a.processTelemetry=function(n,i){i=i||t;var e=r?r.identifier:"TelemetryPluginChain";Rt(i?i.core():null,function(){return e+":processTelemetry"},function(){if(r&&s){a._hasRun=!0;try{i.setNext(o),c&&r.setNextPlugin(o),o&&(o._hasRun=!1),r.processTelemetry(n,i)}catch(e){var t=o&&o._hasRun;o&&t||i.diagLog().throwInternal(H.CRITICAL,S.PluginException,"Plugin ["+r.identifier+"] failed during processTelemetry - "+yt(e)),o&&!t&&o.processTelemetry(n,i)}}else o&&(a._hasRun=!0,o.processTelemetry(n,i))},function(){return{"item":n}},!n.sync)}};function Lt(e,t){var n=[];if(e&&0<e.length)for(var i=null,r=0;r<e.length;r++){var a=e[r];a&&w(a.processTelemetry)&&(a=new Dt(a,t),n.push(a),i&&i.setNext(a),i=a)}return 0<n.length?n[0]:null}var Mt=function u(e,a,n,t){var i,f,r,o,s,c=this,l=null;null!==t&&(e&&w(e.getPlugin)?l=function(e,t,n){var i=[],r=!n;if(e)for(;e;){var a=e.getPlugin();!r&&a!==n||(r=!0,i.push(a)),e=e.getNext()}return r||i.push(n),Lt(i,t)}(e,c,t||e.getPlugin()):t?(f=c,o=i=e,s=!1,(r=t)&&i&&(o=[],G(i,function(e){!s&&e!==r||(s=!0,o.push(e))})),r&&!s&&(o=o||[]).push(r),l=Lt(o,f)):le(t)&&(l=Lt(e,c))),c.core=function(){return n},c.diagLog=function(){return wt(n,a)},c.getCfg=function(){return a},c.getExtCfg=function(e,t){var n,i;return void 0===t&&(t={}),!a||(i=a.extensionConfig)&&e&&(n=i[e]),n||t},c.getConfig=function(e,t,n){void 0===n&&(n=!1);var i,r=c.getExtCfg(e,null);return r&&!z(r[t])?i=r[t]:a&&!z(a[t])&&(i=a[t]),z(i)?n:i},c.hasNext=function(){return null!=l},c.getNext=function(){return l},c.setNext=function(e){l=e},c.processNext=function(e){var t=l;t&&(l=t.getNext(),t.processTelemetry(e,c))},c.createNew=function(e,t){return new u((e=void 0===e?null:e)||l,a,n,t)}},Ut="extensionConfig",Vt="getPlugin",u=(Bt.prototype.initialize=function(e,t,n,i){this._baseTelInit(e,t,n,i)},Bt);function Bt(){var a=this,o=!1,s=null,c=null;a.core=null,a.diagLog=function(e){return a._getTelCtx(e).diagLog()},a.isInitialized=function(){return o},a.setInitialized=function(e){o=e},a.setNextPlugin=function(e){c=e},a.processNext=function(e,t){t?t.processNext(e):c&&w(c.processTelemetry)&&c.processTelemetry(e,null)},a._getTelCtx=function(e){var t,n=e=void 0===e?null:e;return n||(t=s||new Mt(null,{},a.core),n=c&&c[Vt]?t.createNew(null,c[Vt]):t.createNew(null,c)),n},a._baseTelInit=function(e,t,n,i){e&&h(e,Ut,[],null,z),!i&&t&&(i=t.getProcessTelContext().getNext());var r=c;c&&c[Vt]&&(r=c[Vt]()),a.core=t,s=new Mt(i,e,t,r),o=!0}}var Ft="processTelemetry",Wt="priority",Kt="setNextPlugin",zt="isInitialized";function Ht(t,n){for(var e=[],i=null,r=t.getNext();r;){var a=r.getPlugin();a&&(i&&w(i[Kt])&&w(a[Ft])&&i[Kt](a),w(a[zt])&&a[zt]()||e.push(a),i=a,r=r.getNext())}G(e,function(e){e.initialize(t.getCfg(),t.core(),n,t.getNext())})}function Gt(e){return e.sort(function(e,t){var n=0,i=w(t[Ft]);return w(e[Ft])?n=i?e[Wt]-t[Wt]:1:i&&(n=-1),n})}y(Xt,qt=u),Xt._staticInit=(Oe(Nn=Xt.prototype,"ChannelControls",Nn.getChannelControls),void Oe(Nn,"channelQueue",Nn.getChannelControls));var qt,jt=Xt;function Xt(){var c,i=qt.call(this)||this;function l(e){e&&0<e.length&&(G(e=e.sort(function(e,t){return e.priority-t.priority}),function(e){e.priority<500&&Ve("Channel has invalid priority"+e.identifier)}),c.push(e))}return i.identifier="ChannelControllerPlugin",i.priority=500,ne(Xt,i,function(o,s){o.setNextPlugin=function(e){},o.processTelemetry=function(t,n){c&&G(c,function(e){0<e.length&&i._getTelCtx(n).createNew(e).processNext(t)})},o.getChannelControls=function(){return c},o.initialize=function(t,n,i){var e,r,a;o.isInitialized()||(s.initialize(t,n,i),e=(t||{}).channels,r=i,c=[],e&&G(e,l),r&&(a=[],G(r,function(e){500<e.priority&&a.push(e)}),l(a)),G(c,function(e){return Ht(new Mt(e,t,n),i)}))}}),i}var Yt="toGMTString",Jt="toUTCString",Qt="cookie",Zt="expires",$t="enabled",en="isCookieUseDisabled",tn="disableCookiesUsage",nn="_ckMgr",rn="",an=null,on=null,sn=null,cn=ct(),ln={},un={};function fn(e){return!e||e.isEnabled()}function pn(e,t){var n,i;return e?n=e.getCookieMgr():t&&(n=t.cookieCfg[nn]||dn(t)),n||(t=t,e=(e||{}).logger,(i=dn[nn]||un[nn])||(i=dn[nn]=dn(t,e),un[nn]=i),n=i),n}function dn(e,r){h(n=(e=e||un).cookieCfg=e.cookieCfg||{},"domain",e.cookieDomain,ue,z),h(n,"path",e.cookiePath||"/",null,z),z(n[$t])&&(t=void 0,le(e[en])||(t=!e[en]),le(e[tn])||(t=!e[tn]),n[$t]=t);var t,n,f=n,p=f.path||"/",d=f.domain,i=!1!==f[$t],g={"isEnabled":function(){var e=i&&gn(r),t=un[nn];return e=e&&t&&g!==t?fn(t):e},"setEnabled":function(e){i=!1!==e},"set":function(e,t,n,i,u){var r,a,o,s,c,l=!1;return fn(g)&&(r={},-1!==(o=(a=Pe(t||rn)).indexOf(";"))&&(a=Pe(t.substring(0,o)),r=hn(t.substring(o+1))),h(r,"domain",i||d,Ue,le),z(n)||(o=vt(),!le(r[Zt])||0<(c=De()+1e3*n)&&((s=new Date).setTime(c),h(r,Zt,mn(s,o?Yt:Jt)||mn(s,o?Yt:Jt)||rn,Ue)),o||h(r,"max-age",rn+n,null,le)),(c=pt())&&"https:"===c.protocol&&(h(r,"secure",null,null,le),(on=null===on?!In((ut()||{}).userAgent):on)&&h(r,"SameSite","None",null,le)),h(r,"path",u||p,null,le),(f.setCookie||yn)(e,vn(a,r)),l=!0),l},"get":function(e){var t=rn;return t=fn(g)?(f.getCookie||function(e){var t=rn;{var n;cn&&(n=cn[Qt]||rn,sn!==n&&(ln=hn(n),sn=n),t=Pe(ln[e]||rn))}return t})(e):t},"del":function(e,t){var n=!1;return n=fn(g)?g.purge(e,t):n},"purge":function(e,t){var n,i=!1;return gn(r)&&((n={}).path=t||"/",n[Zt]="Thu, 01 Jan 1970 00:00:01 GMT",n=n,vt()||(n["max-age"]="0"),(f.delCookie||yn)(e,vn(rn,n)),i=!0),i}};return g[nn]=g}function gn(t){if(null===an){an=!1;try{an=void 0!==(cn||{})[Qt]}catch(e){t&&t.throwInternal(H.WARNING,S.CannotAccessCookie,"Cannot access document.cookie - "+Le(e),{"exception":yt(e)})}}return an}function hn(e){var n={};return e&&e.length&&G(Pe(e).split(";"),function(e){var t;(e=Pe(e||rn))&&(-1===(t=e.indexOf("="))?n[e]=null:n[Pe(e.substring(0,t))]=Pe(e.substring(t+1)))}),n}function mn(e,t){return w(e[t])?e[t]():null}function vn(e,t){var n=e||rn;return ge(t,function(e,t){n+="; "+e+(z(t)?rn:"="+t)}),n}function yn(e,t){cn&&(cn[Qt]=e+"="+t)}function In(e){return!!Ce(e)&&(!(!ve(e,"CPU iPhone OS 12")&&!ve(e,"iPad; CPU OS 12"))||(!!(ve(e,"Macintosh; Intel Mac OS X 10_14")&&ve(e,"Version/")&&ve(e,"Safari"))||(!(!ve(e,"Macintosh; Intel Mac OS X 10_14")||!he(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))||(!(!ve(e,"Chrome/5")&&!ve(e,"Chrome/6"))||(!(!ve(e,"UnrealEngine")||ve(e,"Chrome"))||!(!ve(e,"UCBrowser/12")&&!ve(e,"UCBrowser/11")))))))}var Tn="_notificationManager";function Cn(e,t){return new kt(t)}var En,bn=function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;ne(e,this,function(i){i.addNotificationListener=function(e){i.listeners.push(e)},i.removeNotificationListener=function(e){for(var t=Se(i.listeners,e);-1<t;)i.listeners.splice(t,1),t=Se(i.listeners,e)},i.eventsSent=function(t){G(i.listeners,function(e){e&&e.eventsSent&&setTimeout(function(){return e.eventsSent(t)},0)})},i.eventsDiscarded=function(t,n){G(i.listeners,function(e){e&&e.eventsDiscarded&&setTimeout(function(){return e.eventsDiscarded(t,n)},0)})},i.eventsSendRequest=function(t,n){G(i.listeners,function(e){if(e&&e.eventsSendRequest)if(n)setTimeout(function(){return e.eventsSendRequest(t,n)},0);else try{e.eventsSendRequest(t,n)}catch(e){}})},i.perfEvent=function(t){t&&(!n&&t.isChildEvt()||G(i.listeners,function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout(function(){return e.perfEvent(t)},0);else try{e.perfEvent(t)}catch(e){}}))}})},Nn=(y(Sn,En=function e(){var t,p,d,n,i,g=!1;ne(e,this,function(f){f._extensions=new Array,p=new jt,f.logger=new At({"loggingLevelConsole":H.CRITICAL}),t=[],f.isInitialized=function(){return g},f.initialize=function(e,u,i,t){f.isInitialized()&&Ve("Core should not be initialized more than once"),e&&!z(e.instrumentationKey)||Ve("Please provide instrumentation key"),d=t,f[Tn]=t,f.config=e||{},f.config.enablePerfMgr&&h(f.config,"createPerfMgr",Cn),e.extensions=z(e.extensions)?[]:e.extensions,r=Ut,(n=e)?!(o=n[r])&&z(o)&&(o=le(a)?{}:a,n[r]=o):o=le(a)?{}:a,o.NotificationManager=t,i&&(f.logger=i);var n,r,a,o,s=[],c=(s.push.apply(s,I(I([],u),e.extensions)),s=Gt(s),[]),l={};G(s,function(e){(z(e)||z(e.initialize))&&Ve("Extensions must provide callback to initialize");var t=e.priority,n=e.identifier;e&&t&&(z(l[t])?l[t]=n:i.warnToConsole("Two extensions have same priority #"+t+" - "+l[t]+", "+n)),(!t||t<p.priority)&&c.push(e)}),s.push(p),c.push(p),s=Gt(s),f._extensions=s,Ht(new Mt([p],e,f),s),Ht(new Mt(c,e,f),s),f._extensions=c,0===f.getTransmissionControls().length&&Ve("No channels available"),g=!0,f.releaseQueue()},f.getTransmissionControls=function(){return p.getChannelControls()},f.track=function(e){h(e,"iKey",f.config.instrumentationKey,null,Me),h(e,"time",Ne(new Date),null,Me),h(e,"ver","4.0",null,z),f.isInitialized()?f.getProcessTelContext().processNext(e):t.push(e)},f.getProcessTelContext=function(){var e=f._extensions,t=e;return e&&0!==e.length||(t=[p]),new Mt(t,f.config,f)},f.getNotifyMgr=function(){return d||(d=m({"addNotificationListener":function(e){},"removeNotificationListener":function(e){},"eventsSent":function(e){},"eventsDiscarded":function(e,t){},"eventsSendRequest":function(e,t){}}),f[Tn]=d),d},f.getCookieMgr=function(){return i=i||dn(f.config,f.logger)},f.setCookieMgr=function(e){i=e},f.getPerfMgr=function(){return n||f.config&&f.config.enablePerfMgr&&w(f.config.createPerfMgr)&&(n=f.config.createPerfMgr(f,f.getNotifyMgr())),n||Pt},f.setPerfMgr=function(e){n=e},f.eventCnt=function(){return t.length},f.releaseQueue=function(){0<t.length&&(G(t,function(e){f.getProcessTelContext().processNext(e)}),t=[])}})}),Sn);function Sn(){var e=En.call(this)||this,t=0;return ne(Sn,e,function(i,r){function n(e){var t=i.getNotifyMgr();t&&t.eventsDiscarded([e],Y.InvalidEvent)}i.initialize=function(e,t,n,i){r.initialize(e,t,n||new At(e),i||new bn(e))},i.track=function(t){Rt(i.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){null===t&&(n(t),Ve("Invalid telemetry item"));var e=t;if(z(e.name))throw n(e),Error("telemetry name required");r.track(t)},function(){return{"item":t}},!t.sync)},i.addNotificationListener=function(e){var t=i.getNotifyMgr();t&&t.addNotificationListener(e)},i.removeNotificationListener=function(e){var t=i.getNotifyMgr();t&&t.removeNotificationListener(e)},i.pollInternalLogs=function(n){var e=i.config.diagnosticLogInterval;return e&&0<e||(e=1e4),t&&i.stopPollingInternalLogs(),t=setInterval(function(){var e=i.logger?i.logger.queue:[];G(e,function(e){var t={"name":n||"InternalMessageId: "+e.messageId,"iKey":i.config.instrumentationKey,"time":Ne(new Date),"baseType":Nt.dataType,"baseData":{"message":e.message}};i.track(t)}),e.length=0},e)},i.stopPollingInternalLogs=function(){t&&(clearInterval(t),t=0)}}),e}var wn=4294967296,An=4294967295,Pn=!1,xn=123456789,_n=987654321;function kn(e){e<0&&(e>>>=0),xn=123456789+e&An,_n=987654321-e&An,Pn=!0}function On(){try{var e=2147483647&De();kn((Math.random()*wn^e)+e)}catch(e){}}function Rn(e){return 0<e?Math.floor(Dn()/An*(e+1))>>>0:0}function Dn(e){var t=at(Ye)||at(Je),t=t&&t.getRandomValues?t.getRandomValues(new Uint32Array(1))[0]&An:vt()?(Pn||On(),Ln()&An):Math.floor(wn*Math.random()|0);return e||(t>>>=0),t}function Ln(e){var t=((_n=36969*(65535&_n)+(_n>>16)&An)<<16)+(65535&(xn=18e3*(65535&xn)+(xn>>16)&An))>>>0&An|0;return e||(t>>>=0),t}var Mn="visibilitychange",Un="pagehide",Vn="pageshow";function Bn(e,t){var n=!1,i=st(),i=(i&&(n=de(i,e,t),n=de(i.body,e,t)||n),ct());return n=i?de(i,e,t)||n:n}function Fn(e,t){return function e(t,n,i){var r,a=!1;return n&&t&&Ie(t)&&(r=[],G(t,function(e){Ce(e)&&(i&&-1!==Se(i,e)?r.push(e):a=Bn(e,n)||a)}),!a&&0<r.length&&(a=e(r,n))),a}(["beforeunload","unload","pagehide"],e,t)}function Wn(n,e){var t=!1;return e&&-1!==Se(e,Un)||(t=Bn(Un,n)),t=!(t=e&&-1!==Se(e,Mn)?t:Bn(Mn,function(e){var t=ct();n&&t&&"hidden"===t.visibilityState&&n(e)})||t)&&e?Wn(n):t}function Kn(n,e){var t=!1;return e&&-1!==Se(e,Vn)||(t=Bn(Vn,n)),t=!(t=e&&-1!==Se(e,Mn)?t:Bn(Mn,function(e){var t=ct();n&&t&&"visible"===t.visibilityState&&n(e)})||t)&&e?Kn(n):t}function zn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(jn,function(e){var t=0|Rn(15);return("x"===e?t:3&t|8).toString(16)})}function Hn(){var e=dt();return e&&e.now?e.now():De()}function Gn(e){void 0===e&&(e=22);for(var t=Dn()>>>0,n=0,i="";i.length<e;)n++,i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(Dn()<<2&4294967295|3&t)>>>0,n=0);return i}function qn(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",i=0;i<4;i++)n+=t[15&(e=Dn())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var r=t[8+(3&Dn())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+r+n.substr(16,3)+n.substr(19,12)}var jn=/[xy]/g,Xn={"NotSet":0,"Pii_DistinguishedName":1,"Pii_GenericData":2,"Pii_IPV4Address":3,"Pii_IPv6Address":4,"Pii_MailSubject":5,"Pii_PhoneNumber":6,"Pii_QueryString":7,"Pii_SipAddress":8,"Pii_SmtpAddress":9,"Pii_Identity":10,"Pii_Uri":11,"Pii_Fqdn":12,"Pii_IPV4AddressLegacy":13,"CustomerContent_GenericContent":32},q={"Normal":1,"CostDeferred":2,"RealTime":3,"Immediate":4},Yn={"Unspecified":0,"String":1,"Int32":2,"UInt32":3,"Int64":4,"UInt64":5,"Double":6,"Bool":7,"Guid":8,"DateTime":9},Jn=A(A({},S),{"AuthHandShakeError":501,"AuthRedirectFail":502,"BrowserCannotReadLocalStorage":503,"BrowserCannotWriteLocalStorage":504,"BrowserDoesNotSupportLocalStorage":505,"CannotParseBiBlobValue":506,"CannotParseDataAttribute":507,"CVPluginNotAvailable":508,"DroppedEvent":509,"ErrorParsingAISessionCookie":510,"ErrorProvidedChannels":511,"FailedToGetCookies":512,"FailedToInitializeCorrelationVector":513,"FailedToInitializeSDK":514,"InvalidContentBlob":515,"InvalidCorrelationValue":516,"SessionRenewalDateIsZero":517,"SendPostOnCompleteFailure":518,"PostResponseHandler":519,"SDKNotInitialized":520}),Qn="1DS-Web-JS-3.1.9",Zn="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",$n="withCredentials",ei=((vi={})[0]=Yn.Unspecified,vi[2]=Yn.Double,vi[1]=Yn.String,vi[3]=Yn.Bool,vi[4098]=Yn.Double,vi[4097]=Yn.String,vi[4099]=Yn.Bool,vi),ti=null,ni=Boolean(ct()),ii=Boolean(st());function j(e){return!(""===e||z(e))}function ri(e){if(e){var t=e.indexOf("-");if(-1<t)return e.substring(0,t)}return""}function ai(e){return!!(e&&Ee(e)&&q.Normal<=e&&e<=q.Immediate)}function oi(e,t,n){if(!t&&!j(t)||"string"!=typeof e)return null;var i=typeof t;if("string"==i||"number"==i||"boolean"==i||Ie(t))t={"value":t};else if("object"!=i||t.hasOwnProperty("value")){if(z(t.value)||""===t.value||!Ce(t.value)&&!Ee(t.value)&&!be(t.value)&&!Ie(t.value))return null}else t={"value":n?JSON.stringify(t):t};if(Ie(t.value)&&!gi(t.value))return null;if(!z(t.kind)){if(Ie(t.value)||!di(t.kind))return null;t.value=t.value.toString()}return t}function si(e,t,n){var i,r=-1;return le(e)||(0<t&&(32===t?r=8192:t<=13&&(r=t<<5)),!function(e){if(0<=e&&e<=9)return!0;return!1}(n)?(i=ei[mi(e)]||-1,-1!==r&&-1!==i?r|=i:i===Yn.Double&&(r=i)):(-1===r&&(r=0),r|=n)),r}function ci(e){return gn(null)?li(pn(null),e):""}function li(e,t,n){var i;return void 0===n&&(n=!0),e&&(i=e.get(t),n&&i&&decodeURIComponent&&(i=decodeURIComponent(i))),i||""}function ui(e){void 0===e&&(e="D");var t=zn();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,"")),t}function fi(e,t,n,l,u){var i={},r=!1,a=0,o=arguments.length,s=Object[f],c=arguments;for("[object Boolean]"===s.toString.call(c[0])&&(r=c[0],a++);a<o;a++){e=c[a];ge(e,function(n,e){r&&e&&pe(e)?Ie(e)?(i[n]=i[n]||[],G(e,function(e,t){e&&pe(e)?i[n][t]=fi(!0,i[n][t],e):i[n][t]=e})):i[n]=fi(!0,i[n],e):i[n]=e})}return i}var pi=Hn;function di(e){return e===Xn.NotSet||e>Xn.NotSet&&e<=Xn.Pii_IPV4AddressLegacy||e===Xn.CustomerContent_GenericContent}function gi(e){return 0<e.length}function hi(e,t){var n=e;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[t]=pi()}function mi(e){var t,n=0;return null!=e&&("string"==(t=typeof e)?n=1:"number"==t?n=2:"boolean"==t?n=3:t===s&&(n=4,Ie(e)?(n=4096,0<e.length&&(n|=mi(e[0]))):fe(e,"value")&&(n=8192|mi(e.value)))),n}var vi={"Version":"3.1.9","FullVersionString":Qn,"strUndefined":X,"strObject":s,"Undefined":X,"arrForEach":G,"arrIndexOf":Se,"arrMap":we,"arrReduce":Ae,"objKeys":ke,"toISOString":Ne,"isReactNative":mt,"isString":Ce,"isNumber":Ee,"isBoolean":be,"isFunction":w,"isArray":Ie,"isObject":pe,"strTrim":Pe,"isDocumentObjectAvailable":ni,"isWindowObjectAvailable":ii,"isValueAssigned":j,"getTenantId":ri,"isBeaconsSupported":It,"isUint8ArrayAvailable":function(){return ti=null===ti?!le(Uint8Array)&&!function(){var e=ut();if(!le(e)&&e.userAgent){e=e.userAgent.toLowerCase();if((0<=e.indexOf("safari")||0<=e.indexOf("firefox"))&&e.indexOf("chrome")<0)return!0}return!1}()&&!mt():ti},"isLatency":ai,"sanitizeProperty":oi,"getISOString":Ne,"useXDomainRequest":Tt,"getCommonSchemaMetaData":si,"cookieAvailable":gn,"disallowsSameSiteNone":In,"setCookie":function(e,t,n){gn(null)&&pn(null).set(e,t,86400*n,null,"/")},"deleteCookie":function(e){gn(null)&&pn(null).del(e)},"getCookie":ci,"createGuid":ui,"extend":fi,"getTime":pi,"isValueKind":di,"isArrayValid":gi,"objDefineAccessors":Oe,"addPageUnloadEventListener":Fn,"setProcessTelemetryTimings":hi,"addEventHandler":Bn,"getFieldValueType":mi,"strEndsWith":he,"objForEachKey":ge},yi={"_canUseCookies":void 0,"isTypeof":function(e,t){return typeof e===t},"isUndefined":le,"isNullOrUndefined":z,"hasOwnProperty":fe,"isFunction":w,"isObject":pe,"isDate":ye,"isArray":Ie,"isError":Te,"isString":Ce,"isNumber":Ee,"isBoolean":be,"toISOString":Ne,"arrForEach":G,"arrIndexOf":Se,"arrMap":we,"arrReduce":Ae,"strTrim":Pe,"objCreate":m,"objKeys":ke,"objDefineAccessors":Oe,"addEventHandler":Bn,"dateNow":De,"isIE":vt,"disableCookies":function(){pn(null).setEnabled(!1)},"newGuid":zn,"perfNow":Hn,"newId":Gn,"randomValue":Rn,"random32":Dn,"mwcRandomSeed":function(e){e?kn(e):On()},"mwcRandom32":Ln,"generateW3CId":qn};var Ii,Ti="version",Ci="properties";function Ei(){var e=Ii.call(this)||this;return e.pluginVersionStringArr=[],e.pluginVersionString="",ne(Ei,e,function(o,s){o.logger&&o.logger.queue||(o.logger=new At({"loggingLevelConsole":H.CRITICAL})),o.initialize=function(e,i,r,a){Rt(o,function(){return"AppInsightsCore.initialize"},function(){if(e){e.endpointUrl||(e.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var t=e.propertyStorageOverride;if(t&&(!t.getProperty||!t.setProperty))throw new Error("Invalid property storage override passed.");e.channels&&G(e.channels,function(e){e&&G(e,function(e){var t;e.identifier&&e.version&&(t=e.identifier+"="+e.version,o.pluginVersionStringArr.push(t))})})}o.getWParam=function(){return"undefined"!=typeof document?0:-1},i&&G(i,function(e){var t;e&&e.identifier&&e.version&&(t=e.identifier+"="+e.version,o.pluginVersionStringArr.push(t))}),o.pluginVersionString=o.pluginVersionStringArr.join(";");try{s.initialize(e,i,r,a),o.pollInternalLogs("InternalLog")}catch(e){var t=o.logger,n=yt(e);-1!==n.indexOf("channels")&&(n+="\n - Channels must be provided through config.channels only!"),t.throwInternal(H.CRITICAL,Jn.FailedToInitializeSDK,"SDK Initialization Failed - no telemetry will be sent: "+n)}},function(){return{"config":e,"extensions":i,"logger":r,"notificationManager":a}})},o.track=function(n){Rt(o,function(){return"AppInsightsCore.track"},function(){var e,t=n;t&&(t.timings=t.timings||{},t.timings.trackStart=pi(),ai(t.latency)||(t.latency=q.Normal),(e=t.ext=t.ext||{}).sdk=e.sdk||{},e.sdk.ver=Qn,(e=t.baseData=t.baseData||{})[Ci]||(e[Ci]={}),(e=e[Ci])[Ti]||(e[Ti]=""),""!==o.pluginVersionString&&(e[Ti]=o.pluginVersionString)),s.track(t)},function(){return{"item":n}},!n.sync)}}),e}y(Ei,Ii=Nn);var Nn=Ei,bi=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"];function Ni(e,t){void 0===t&&(t=bi);var n=null;if(e)for(var i=e.split(","),r=0;r<i.length;r++)!function(e,t){void 0===t&&(t=bi);if(!e||e.length<4)return!1;for(var n=!1,i=e.substring(0,3).toString().toUpperCase(),r=0;r<t.length;r++)if(t[r]+":"===i&&e.length<=256){n=!0;break}return n}(i[r],t)||(n?n+=","+i[r]:n=i[r]);return n}wi.prototype.getExpId=function(){return this._propertiesConfig.expId?this._readExpIdFromCoreData(this._propertiesConfig.expId):this._readExpIdFromCookie()},wi.prototype._getMetaDataFromDOM=function(e){var t={},n=ct();if(n)for(var i=n&&n.querySelectorAll("meta"),r=0;r<i.length;r++){var a=i[r];a.name&&0===a.name.toLowerCase().indexOf(e)&&(t[a.name.replace(e,"")]=a.content)}return t},wi.prototype._setAppExpId=function(e){e!==this.appExpId&&(this.appExpId=Ni(e,this.flightIdNameSpaces))},wi.prototype._getAppExpId=function(){return this.appExpId},wi.prototype._readExpIdFromCookie=function(){var e=li(this._cookieMgr,this.expIdCookieName);return this._setAppExpId(e),this._getAppExpId()},wi.prototype._readExpIdFromCoreData=function(e){return this._setAppExpId(e),this._getAppExpId()},wi.validateAppExpId=Ni,wi._staticInit=void Oe(wi.prototype,"expId",wi.prototype.getExpId);var Si=wi;function wi(e,t){this.core=t,this.appExpId=null,this.flightIdNameSpaces=bi.slice(0),this.expIdCookieName="Treatments",this._cookieMgr=pn(t),this._propertiesConfig=e;var n,i=ct();i&&(n=i.documentElement,i&&(this.locale=n.lang)),this.env=e.env||this._getMetaDataFromDOM("awa-").env}var Ai=function(){},Pi=(xi.prototype.getLocalId=function(){if(this._customLocalId)return this._customLocalId;var e;this._propertiesConfig.hashIdentifiers||this._propertiesConfig.dropIdentifiers||(e=li(this._cookieMgr,"MUID"))&&this.setLocalId("t:"+e)},xi.prototype.setLocalId=function(e){this._customLocalId=e},xi.cookieSeparator="|",xi.userCookieName="ai_user",xi._staticInit=void Oe(xi.prototype,"localId",xi.prototype.getLocalId,xi.prototype.setLocalId),xi);function xi(e,t,n){this.core=n,this._propertiesConfig=t;var i,r,a=this._cookieMgr=pn(n,e);a&&a.isEnabled()&&(this._propertiesConfig.hashIdentifiers||this._propertiesConfig.dropIdentifiers||(i=li(a,"MUID"))&&this.setLocalId("t:"+i),this._propertiesConfig.enableApplicationInsightsUser&&(!(i=li(a,xi.userCookieName))||0<(i=i.split(xi.cookieSeparator)).length&&(this.id=i[0]),this.id||(this.id=Gn(e&&!le(e.idLength)?e.idLength:22),i=Ne(new Date),this.accountAcquisitionDate=i,i=[this.id,i],r=this._propertiesConfig.cookieDomain||void 0,a.set(xi.userCookieName,i.join(xi.cookieSeparator),31536e3,r)))),"undefined"!=typeof navigator&&(this.locale=(a=navigator).userLanguage||a.language)}var _i="([\\d,.]+)",ki="Unknown",Oi="Edg/",Ri=[{"ua":"OPR/","b":"Opera"},{"ua":"PhantomJS","b":"PhantomJS"},{"ua":"Edge","b":"Edge"},{"ua":Oi,"b":"Edge"},{"ua":"Electron","b":"Electron"},{"ua":"Chrome","b":"Chrome"},{"ua":"Trident","b":"MSIE"},{"ua":"MSIE ","b":"MSIE"},{"ua":"Firefox","b":"Firefox"},{"ua":"Safari","b":"Safari"},{"ua":"SkypeShell","b":"SkypeShell"}],Di=[{"br":"Microsoft Edge","b":"Edge"},{"br":"Google Chrome","b":"Chrome"},{"br":"Opera","b":"Opera"}];function Li(e,t){return-1<t.indexOf(e)}function Mi(e,t){var n,i;return"MSIE"===t?(i=(i=(n=e).match(new RegExp("MSIE "+_i)))||n.match(new RegExp("rv:"+_i)))?i[1]:void 0:(n=t,t=e,"Safari"===n?n="Version":"Edge"===n&&Li(Oi,t)&&(n="Edg"),i=t.match(new RegExp(n+"/"+_i)),i||"Opera"===n&&(i=t.match(new RegExp("OPR/"+_i)))?i[1]:ki)}Vi._staticInit=void Oe(Vi.prototype,"userConsent",Vi.prototype.getUserConsent);var Ui=Vi;function Vi(e,t){var i=pn(t),r=e||{};ne(Vi,this,function(a){var e,t,n=pt();!n||(e=n.hostname)&&(a.domain="file:"===n.protocol?"local":e),r.populateBrowserInfo&&(n=r.userAgent,e=(r.userAgentData||{}).brands,(t=ut())&&(n=n||t.userAgent||"",e=e||(t.userAgentData||{}).brands),function(e,t){if(Ie(t))try{for(var n=0;n<Di.length;n++){var i=function(e,t){for(var n=0;n<t.length;n++)if(e==t[n].brand)return t[n].version;return null}(Di[n].br,t);if(i)return a.browser=Di[n].b,a.browserVer=i}}catch(e){}{var r;e&&(r=function(e){if(e)for(var t=0;t<Ri.length;t++)if(Li(Ri[t].ua,e))return Ri[t].b;return ki}(e),a.browser=r,a.browserVer=Mi(e,r))}}(n,e),t={"h":0,"w":0},(n=st())&&n.screen&&(t.h=screen.height,t.w=screen.width),e=t,a.screenRes=e.w+"X"+e.h),a.getUserConsent=function(){return r.userConsented||!!li(i,r.userConsentCookieName||"MSCC")},a.getUserConsentDetails=function(){try{var e=r.callback;if(e&&e.userConsentDetails){var t=e.userConsentDetails();if(t)return JSON.stringify({"Required":t.Required||!1,"Analytics":t.Analytics||!1,"SocialMedia":t.SocialMedia||!1,"Advertising":t.Advertising||!1})}}catch(e){}return null},Oe(a,"userConsent",a.getUserConsent)})}var Bi={"WIN":/(windows|win32)/i,"WINRT":/ arm;/i,"WINPHONE":/windows\sphone\s\d+\.\d+/i,"OSX":/(macintosh|mac os x)/i,"IOS":/(ipad|iphone|ipod)(?=.*like mac os x)/i,"LINUX":/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,"ANDROID":/android/i,"CROS":/CrOS/i},Fi={"5.1":"XP","6.0":"Vista","6.1":"7","6.2":"8","6.3":"8.1","10.0":"10"},Wi="([\\d,.]+)",Ki="([\\d,_,.]+)",zi="Unknown",Hi=[{"r":Bi.WINPHONE,"os":"Windows Phone"},{"r":Bi.WINRT,"os":"Windows RT"},{"r":Bi.WIN,"os":"Windows"},{"r":Bi.IOS,"os":"iOS"},{"r":Bi.ANDROID,"os":"Android"},{"r":Bi.LINUX,"os":"Linux"},{"r":Bi.CROS,"os":"Chrome OS"},{"s":"x11","os":"Unix"},{"s":"blackberry","os":"BlackBerry"},{"s":"symbian","os":"Symbian"},{"s":"nokia","os":"Nokia"},{"r":Bi.OSX,"os":"Mac OS X"}];function Gi(e,t){if("Windows"===t)return qi(e,"Windows NT");if("Android"===t)return qi(e,t);if("Mac OS X"===t){if(n=e.match(new RegExp("Mac OS X "+Ki))){var n=n[1].replace(/_/g,".");if(n)return(i=ji(n))?n.split(i)[0]:n}return zi}if("iOS"!==t)return zi;if(i=e.match(new RegExp("OS "+Ki))){var i=i[1].replace(/_/g,".");if(i)return(n=ji(i))?i.split(n)[0]:i}return zi}function qi(e,t){var n=e.match(new RegExp(t+" "+Wi));return n?Fi[n[1]]||n[1]:zi}function ji(e){return-1<e.indexOf(".")?".":-1<e.indexOf("_")?"_":null}var Xi=function(e){var t,n,i;e.populateOperatingSystemInfo&&(n=ut()||{},t=e.userAgent||n.userAgent||"",n=e.userAgentData||n.userAgentData||{},t&&(i=function(e){for(var t=0;t<Hi.length;t++){var n=Hi[t];if(n.r&&e.match(n.r))return n.os;if(n.s&&-1!==e.indexOf(n.s))return n.os}return zi}(t.toLowerCase()),this.name=i,this.ver=Gi(t,i)),this.name&&this.name!==zi||!Ce(n.platform)||(this.name=n.platform))},Yi=(Ji.prototype.getMsfpc=function(){return li(this._cookieMgr,"MSFPC")},Ji.prototype.getAnid=function(){return li(this._cookieMgr,"ANON").slice(0,34)},Ji._staticInit=(Oe(Ji.prototype,"msfpc",Ji.prototype.getMsfpc),void Oe(Ji.prototype,"anid",Ji.prototype.getAnid)),Ji);function Ji(e,t){this.core=t,e.serviceName&&(this.serviceName=e.serviceName),this._cookieMgr=pn(t)}var Qi=function(e){this.popSample=100,this.eventFlags=0,e.hashIdentifiers&&(this.eventFlags=1048576|this.eventFlags),e.dropIdentifiers&&(this.eventFlags=2097152|this.eventFlags)},Zi=function(){var e=(new Date).getTimezoneOffset(),t=0<(n=(e-(e=e%60))/60)?"-":"+",n=Math.abs(n),e=Math.abs(e);this.tz=t+(n<10?"0"+n:n.toString())+":"+(e<10?"0"+e:e.toString())},$i=function(){},er=(tr.prototype.setId=function(e){this.customId=e},tr._staticInit=void Oe(tr.prototype,"id",tr.prototype.getId=function(){return Ce(this.customId)?this.customId:this.automaticId},tr.prototype.setId),tr);function tr(){}var nr=function(e,t,n,i){var r;e.enableApplicationInsightsTrace&&(this.traceId=t||qn(),this.parentId=n,this.name=i,(r=pt())&&r.pathname&&(this.name=r.pathname))},ir=Re({"id":"id","ver":"ver","appName":"name","locale":"locale","expId":"expId","env":"env"}),rr=Re({"domain":"domain","browser":"browser","browserVer":"browserVer","screenRes":"screenRes","userConsent":"userConsent","consentDetails":"consentDetails"}),ar=Re({"locale":"locale","localId":"localId","id":"id"}),or=Re({"osName":"name","ver":"ver"}),sr=Re({"ver":"ver","seq":"seq","installId":"installId","epoch":"epoch"}),cr=Re({"msfpc":"msfpc","anid":"anid","serviceName":"serviceName"}),lr=Re({"popSample":"popSample","eventFlags":"eventFlags"}),ur=Re({"tz":"tz"}),fr=Re({"sessionId":"sesId"}),pr=Re({"localId":"localId","deviceClass":"deviceClass","make":"make","model":"model"}),dr=Re({"role":"role","roleInstance":"roleInstance","roleVer":"roleVer"}),gr=Re({"traceId":"traceID","traceName":"name","parentId":"parentID"}),c=Re({"UserExt":"user","DeviceExt":"device","TraceExt":"trace","WebExt":"web","AppExt":"app","OSExt":"os","SdkExt":"sdk","IntWebExt":"intweb","UtcExt":"utc","LocExt":"loc","CloudExt":"cloud"}),hr="MicrosoftApplicationsTelemetryDeviceId";Ir.prototype.getSequenceId=function(){return++this._sequenceId};var mr,vr,yr=Ir;function Ir(e,t){this._sequenceId=0;var n,i,r,a=e.propertyStorageOverride,o=(this.seq=this._sequenceId,this.epoch=Dn(!1).toString(),pn(t,e));o.isEnabled()||a?(t=o,e=hr,n=(n=(r=a)?r.getProperty(e)||"":li(t,e))||zn(),r=o,t=hr,e=n,(i=a)?i.setProperty(t,e):r.set(t,e,31536e3),this.installId=n):o.purge(hr)}function Tr(){return mr=void 0===mr?!!Er(vr.LocalStorage):mr}function Cr(){return Tr()?Er(vr.LocalStorage):null}function Er(e){var t,n,i=null;try{var r=d();if(!r)return null;n=new Date,(i=e===vr.LocalStorage?r.localStorage:r.sessionStorage)&&w(i.setItem)&&(i.setItem(n,n),t=i.getItem(n)!==n,i.removeItem(n),t&&(i=null))}catch(e){i=null}return i}(e=vr=vr||{})[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage";Nr.acquisitionSpan=864e5,Nr.renewalSpan=18e5,Nr.cookieUpdateInterval=6e4,Nr.cookieNameConst="ai_session";var br=Nr;function Nr(e,t){var c,l,u=wt(e),f=pn(e);ne(Nr,this,function(s){var e,i={"sessionRenewalMs":(e=t).sessionRenewalMs&&function(){return e.sessionRenewalMs},"sessionExpirationMs":e.sessionExpirationMs&&function(){return e.sessionExpirationMs},"cookieDomain":e.cookieDomain&&function(){return e.cookieDomain},"namePrefix":e.namePrefix&&function(){return e.namePrefix},"sessionAsGuid":function(){return e.sessionAsGuid},"idLength":function(){return e.idLength||22}};function r(e){var t,n,i=s.automaticSession,r=e.split("|");0<r.length&&i.setId(r[0]);try{1<r.length&&(t=+r[1],i.acquisitionDate=+new Date(t),i.acquisitionDate=0<i.acquisitionDate?i.acquisitionDate:0),2<r.length&&(n=+r[2],i.renewalDate=+new Date(n),i.renewalDate=0<i.renewalDate?i.renewalDate:0)}catch(e){u.throwInternal(H.CRITICAL,Jn.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+e)}0===i.renewalDate&&u.throwInternal(H.WARNING,Jn.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")}function a(){var e=s.automaticSession,t=(new Date).getTime(),n=s.config.sessionAsGuid();!le(n)&&n?be(n)?e.setId(ui()):e.setId(ui(n)):e.setId(Gn(i&&i.idLength?i.idLength():22)),e.acquisitionDate=t,e.renewalDate=t,o(e.getId(),e.acquisitionDate,e.renewalDate),Tr()||u.throwInternal(H.WARNING,Jn.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function o(e,t,n){var i=t+s.config.sessionExpirationMs(),r=n+s.config.sessionRenewalMs(),a=new Date,o=[e,t,n],i=(i<r?a.setTime(i):a.setTime(r),s.config.cookieDomain?s.config.cookieDomain():null);f.set(l(),o.join("|")+";expires="+a.toUTCString(),null,i),c=(new Date).getTime()}w(t.sessionExpirationMs)||(i.sessionExpirationMs=function(){return Nr.acquisitionSpan}),w(t.sessionRenewalMs)||(i.sessionRenewalMs=function(){return Nr.renewalSpan}),s.config=i,l=function(){return s.config.namePrefix&&s.config.namePrefix()?Nr.cookieNameConst+s.config.namePrefix():Nr.cookieNameConst},s.automaticSession=new er,s.update=function(){s.automaticSession.getId()||((e=ci(l()))&&w(e.split)?r(e):(e=function(t,e){var n=Cr();if(null!==n)try{return n.getItem(e)}catch(e){mr=!1,t.throwInternal(H.CRITICAL,Jn.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+e)}return null}(u,l()))&&r(e),s.automaticSession.getId()||a());var e=s.automaticSession,t=s.config,n=(new Date).getTime(),i=n-e.acquisitionDate>t.sessionExpirationMs(),t=n-e.renewalDate>t.sessionRenewalMs();i||t?a():(!(i=c)||Nr.cookieUpdateInterval<n-i)&&(e.renewalDate=n,o(e.getId(),e.acquisitionDate,e.renewalDate))},s.backup=function(){var e,t,n=s.automaticSession,i=(a=n.getId(),e=n.acquisitionDate,t=n.renewalDate,u),r=l(),a=[a,e,t].join("|"),n=Cr();if(null!==n)try{n.setItem(r,a)}catch(e){mr=!1,i.throwInternal(H.CRITICAL,Jn.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+e)}}})}var Sr,wr=Ce,Ar=(Pr.prototype.getSessionId=function(){var e=this.session;if(e&&wr(e.customId))return e.customId;var t=this.sessionManager,t=(t.update(),t.automaticSession);return!t||(t=t.getId())&&wr(t)&&(e.automaticId=t),e.automaticId},Pr.prototype.applyApplicationContext=function(e){var t=this.app,n=e.ext[c.AppExt];h(n,ir.id,t.id,wr),h(n,ir.ver,t.ver,wr),h(n,ir.appName,t.name,wr),h(n,ir.locale,t.locale,wr),h(n,ir.expId,t.getExpId(),wr),h(n,ir.env,t.env,wr)},Pr.prototype.applyUserContext=function(e){var t=this.user,n=e.ext[c.UserExt];h(n,ar.localId,t.getLocalId(),wr),h(n,ar.locale,t.locale,wr),h(n,ar.id,t.id,wr)},Pr.prototype.applyWebContext=function(e){var t=this.web,n=e.ext[c.WebExt];h(n,rr.domain,t.domain,wr),h(n,rr.browser,t.browser,wr),h(n,rr.browserVer,t.browserVer,wr),h(n,rr.screenRes,t.screenRes,wr),n[rr.userConsent]=t.getUserConsent(),n[rr.consentDetails]=t.getUserConsentDetails()},Pr.prototype.applyOsContext=function(e){var t=this.os,n=e.ext[c.OSExt];h(n,or.osName,t.name,wr),h(n,or.ver,t.ver,wr)},Pr.prototype.applySdkContext=function(e){var t=this.sdk,n=e.ext[c.SdkExt];n[sr.seq]=t.getSequenceId(),n[sr.epoch]=t.epoch,h(n,sr.installId,t.installId,wr)},Pr.prototype.applyIntWebContext=function(e){var t=this.intWeb,n=e.ext[c.IntWebExt];h(n,cr.msfpc,t.getMsfpc(),wr),h(n,cr.anid,t.getAnid(),wr),h(n,cr.serviceName,t.serviceName,wr)},Pr.prototype.applyUtcContext=function(e){var t=this.utc,n=e.ext[c.UtcExt];n[lr.popSample]=t.popSample,0<t.eventFlags&&(n[lr.eventFlags]=t.eventFlags)},Pr.prototype.applyLocContext=function(e){e.ext[c.LocExt][ur.tz]=this.loc.tz},Pr.prototype.applySessionContext=function(e){e.ext[c.AppExt][fr.sessionId]=this.getSessionId()},Pr.prototype.applyDeviceContext=function(e){var t=this.device,n=e.ext[c.DeviceExt];h(n,pr.localId,t.localId,wr),h(n,pr.make,t.make,wr),h(n,pr.model,t.model,wr),h(n,pr.deviceClass,t.deviceClass,wr)},Pr.prototype.applyCloudContext=function(e){var t=this.cloud,n=e.ext[c.CloudExt];h(n,dr.role,t.role,wr),h(n,dr.roleInstance,t.roleInstance,wr),h(n,dr.roleVer,t.roleVer,wr)},Pr.prototype.applyAITraceContext=function(e){var t=this.telemetryTrace,n=e.ext[c.TraceExt];h(n,gr.traceId,t.traceId,wr),h(n,gr.traceName,t.name,wr),h(n,gr.parentId,t.parentId,wr)},Pr);function Pr(e,t,n){var i=this;i.app=new Si(t,n),i.cloud=new Ai,i.user=new Pi(e,t,n),i.os=new Xi(t),i.web=new Ui(t,n),i.sdk=new yr(e,n),i.intWeb=new Yi(t,n),i.utc=new Qi(t),i.loc=new Zi,i.device=new $i,i.telemetryTrace=new nr(t),i.sessionManager=new br(n,t),i.session=new er}function xr(){var o,i=Sr.call(this)||this,s=(i.identifier="SystemPropertiesCollector",i.priority=3,i.version="3.1.9",{});return ne(xr,i,function(a,e){a.initialize=function(e,t,n){Sr.prototype.initialize.call(i,e,t,n),o=new Ar(e,a._getTelCtx().getExtCfg(a.identifier),t)},a.processTelemetry=function(e,t){hi(e,a.identifier),t=a._getTelCtx(t);var n,i,r=e.ext=e.ext||{};e.data=e.data||{},r[c.AppExt]=r[c.AppExt]||{},r[c.UserExt]=r[c.UserExt]||{},r[c.WebExt]=r[c.WebExt]||{},r[c.OSExt]=r[c.OSExt]||{},r[c.SdkExt]=r[c.SdkExt]||{},r[c.IntWebExt]=r[c.IntWebExt]||{},r[c.UtcExt]=r[c.UtcExt]||{},r[c.LocExt]=r[c.LocExt]||{},r[c.DeviceExt]=r[c.DeviceExt]||{},r[c.TraceExt]=r[c.TraceExt]||{},r[c.CloudExt]=r[c.CloudExt]||{},o.applyApplicationContext(e),o.applyUserContext(e),o.applyWebContext(e),o.applyOsContext(e),o.applySdkContext(e),o.applyIntWebContext(e),o.applyUtcContext(e),o.applyLocContext(e),o.applySessionContext(e),o.applyDeviceContext(e),o.applyAITraceContext(e),o.applyCloudContext(e),G(ke(r),function(e){0===ke(r[e]).length&&delete r[e]}),n=s,i=e.data,n&&ge(n,function(e,t){i[e]||(i[e]=t)}),a.processNext(e,t)},a.getPropertiesContext=function(){return o},a.setProperty=function(e,t){s[e]=t}}),i}y(xr,Sr=u);var _r=xr,kr="REAL_TIME",Bi="NEAR_REAL_TIME",Or="BEST_EFFORT",Rr=(Dr.create=function(e,t){return new Dr(e,t)},Dr);function Dr(r,e){var a=e?[].concat(e):[],t=this;t.iKey=function(){return r},t.count=function(){return a.length},t.events=function(){return a},t.addEvents=function(e,t){return void 0===t&&(t=!0),e&&0<e.length?(a=t?a.concat(e):e.concat(a),e.length):0},t.split=function(e,t){var n,i=new Dr(r);return e<a.length&&(n=a.length-e,z(t)||(n=t<n?t:n),i.addEvents(a.splice(e,n),!0)),i}}var Lr=Math.min(2e6,65e3),Mr="metadata",Ur="f",Vr=/\./,Br=function e(t,n,I,i){var a="baseData",T=!!i,C=n,E={};ne(e,this,function(v){function y(e,p,d,g,h,m,v){ge(e,function(e,t){var n=null;if(t||j(t)){var i,r=d,a=e,o=h,s=p;if(T&&!g&&Vr.test(e)){var c=e.split("."),u=c.length;if(1<u){for(var o=o&&o.slice(),f=0;f<u-1;f++){var l=c[f],s=s[l]=s[l]||{};r+="."+l,o&&o.push(l)}a=c[u-1]}}(n=g&&(void 0===(i=E[e=r])&&(7<=e.length&&(i=me(e,"ext.metadata")||me(e,"ext.web")),E[e]=i),i)||!C||!C.handleField(r,a)?oi(a,t,I):C.value(r,a,t,I))&&(i=n.value,s[a]=i,m&&m(o,a,n),v&&"object"==typeof i&&!Ie(i)&&((n=o)&&(n=n.slice()).push(a),y(t,i,r+"."+a,g,n,m,v)))}})}v.createPayload=function(e,t,n,i,r,a){return{"apiKeys":[],"payloadBlob":"","overflow":null,"sizeExceed":[],"failedEvts":[],"batches":[],"numEvents":0,"retryCnt":e,"isTeardown":t,"isSync":n,"isBeacon":i,"sendType":a,"sendReason":r}},v.appendPayload=function(g,h,m){var e=g&&h&&!g.overflow;return e&&Rt(t,function(){return"Serializer:appendPayload"},function(){for(var e=h.events(),t=g.payloadBlob,n=g.numEvents,i=!1,r=[],a=[],o=g.isBeacon,u=o?65e3:3984588,f=o?Lr:2e6,s=0,p=0;s<e.length;){var c=e[s];if(c){if(m<=n){g.overflow=h.split(s);break}var l=v.getEventBlob(c);if(l&&l.length<=f){var d=l.length;if(u<t.length+d){g.overflow=h.split(s);break}t&&(t+="\n"),t+=l,20<++p&&(t.substr(0,1),p=0),i=!0,n++}else(l?r:a).push(c),e.splice(s,1),s--}s++}r&&0<r.length&&g.sizeExceed.push(Rr.create(h.iKey(),r)),a&&0<a.length&&g.failedEvts.push(Rr.create(h.iKey(),a)),i&&(g.batches.push(h),g.payloadBlob=t,g.numEvents=n,o=h.iKey(),-1===Se(g.apiKeys,o)&&g.apiKeys.push(o))},function(){return{"payload":g,"theBatch":{"iKey":h.iKey(),"evts":h.events()},"max":m}}),e},v.getEventBlob=function(r){try{return Rt(t,function(){return"Serializer.getEventBlob"},function(){var e={},i=(e.name=r.name,e.time=r.time,e.ver=r.ver,e.iKey="o:"+ri(r.iKey),{}),t=r.ext;t&&(e.ext=i,ge(t,function(e,t){y(t,i[e]={},"ext."+e,!0,null,null,!0)}));(t=e.data={}).baseType=r.baseType;var n=t[a]={};return y(r.baseData,n,a,!1,[a],function(e,t,n){Fr(i,e,t,n)},!0),y(r.data,t,"data",!1,[],function(e,t,n){Fr(i,e,t,n)},!0),JSON.stringify(e)},function(){return{"item":r}})}catch(e){return null}}})};function Fr(e,t,n,i){if(i&&e){var r=si(i.value,i.kind,i.propertyType);if(-1<r){var a=e[Mr];if(c=(c=(a=a||(e[Mr]={"f":{}}))[Ur])||(a[Ur]={}),t)for(var o=0;o<t.length;o++){var s=t[o];c[s]||(c[s]={"f":{}});var c=c[s][Ur]||(c[s][Ur]={})}c=c[n]={},Ie(i.value)?c.a={"t":r}:c.t=r}}}function Wr(){}Wr.shouldRetryForStatus=function(e){return!(300<=e&&e<500&&408!=e&&429!=e||501==e||505==e)},Wr.getMillisToBackoffForRetry=function(e){var t=Math.floor(1200*Math.random())+2400,t=Math.pow(2,e)*t;return Math.min(t,6e5)};var Kr=Wr,zr=function e(){var s={};ne(e,this,function(e){e.setKillSwitchTenants=function(e,t){if(e&&t)try{a=e.split(","),o=[],a&&G(a,function(e){o.push(Pe(e))});var n=o;if("this-request-only"===t)return n;for(var i=1e3*parseInt(t,10),r=0;r<n.length;++r)s[n[r]]=De()+i}catch(e){return[]}var a,o;return[]},e.isTenantKilled=function(e){var t=s,n=Pe(e);return void 0!==t[n]&&t[n]>De()||(delete t[n],!1)}})},Hr=function e(){var t=!0,n=!0,i=!0,r="use-collector-delta",a=!1;ne(e,this,function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){i&&(i=!1,a||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return r},e.setClockSkew=function(e){a||(e?(r=e,a=n=!0):n=!1,t=!0)}})},Gr="POST",qr="drop",jr="requeue",Xr="application/x-json-stream",Yr="cache-control",Jr="content-type",Qr="kill-duration",Zr="time-delta-millis",$r=((Ao={})[1]=jr,Ao[100]=jr,Ao[200]="sent",Ao[8004]=qr,Ao[8003]=qr,Ao);function ea(e){try{return e.responseText}catch(e){}return""}function ta(e,t){var n=!1;if(e&&t){var i=ke(e);if(i&&0<i.length)for(var r=t.toLowerCase(),a=0;a<i.length;a++){var o=i[a];if(o&&fe(t,o)&&o.toLowerCase()===r){n=!0;break}}}return n}var na,ia=function e(D,t,L,f){this._responseHandlers=[];var S,w,A,p,M="?cors=true&"+Jr.toLowerCase()+"="+Xr+"&client-id=NO_AUTH&client-version="+Qn,U="",V=new zr,P=!1,x=new Hr,B=!1,_=0,F=!0,u=[],W={},k=[],O=null,K=!1,R=!1;ne(e,this,function(m){var d=!0;function c(e,t){for(var n=0,i=null,r=0;null==i&&r<e.length;)1===(n=e[r])?Tt()?i=a:Ct()&&(i=s):2===n&&function(e){var t=!1;try{var t=!!at("fetch"),n=at("Request");t&&e&&n&&(t=rt(n,"keepalive"))}catch(e){}return t}(t)?i=o:B&&3===n&&It()&&(i=l),r++;return i?{"_transport":n,"_isSync":t,"sendPOST":i}:null}function a(e,t,n){var i=new XDomainRequest;i.open(Gr,e.urlString),i.onload=function(){var e=ea(i);v(t,200,{},e),N(e)},i.onerror=function(){v(t,400,{})},i.ontimeout=function(){v(t,500,{})},i.onprogress=function(){},n?i.send(e.data):S._setTimeoutOverride(function(){i.send(e.data)},0)}function o(e,i,t){var n;n={"body":e.data,"method":Gr,"Microsoft_ApplicationInsights_BypassAjaxInstrumentation":!0},t&&(n.keepalive=!0),d&&(n.credentials="include"),e.headers&&0<ke(e.headers).length&&(n.headers=e.headers),fetch(e.urlString,n).then(function(e){var n={},t="";e.headers&&e.headers.forEach(function(e,t){n[t]=e}),e.body&&e.text().then(function(e){t=e}),v(i,e.status,n,t),N(t)}).catch(function(e){v(i,0,{})})}function s(e,u,t){function n(e,t,n){var i;return e[n]||!t||!t.getResponseHeader||(i=t.getResponseHeader(n))&&(e[n]=Pe(i)),e}function f(e){var t={};return t=e.getAllResponseHeaders?function(e){var i={};return Ce(e)&&G(Pe(e).split(/[\r\n]+/),function(e){var t,n;e&&(-1!==(n=e.indexOf(": "))?(t=Pe(e.substring(0,n)).toLowerCase(),n=Pe(e.substring(n+1)),i[t]=n):i[Pe(e)]=1)}),i}(e.getAllResponseHeaders()):(t=n(t,e,Zr),t=n(t,e,Qr),n(t,e,"kill-duration-seconds"))}function i(e,t){v(u,e.status,f(e),t)}r=Gr,p=e.urlString,a=d,o=!0,void 0===t&&(t=!1),s=new XMLHttpRequest,o&&l(s,Zn,o),a&&l(s,$n,a),s.open(r,p,!t),a&&l(s,$n,a);var r,p,a,o,s,c=s;function l(e,t,n){try{e[t]=n}catch(e){}}ge(e.headers,function(e,t){c.setRequestHeader(e,t)}),c.onload=function(){var e=ea(c);i(c,e),N(e)},c.onerror=function(){i(c)},c.ontimeout=function(){i(c)},c.send(e.data)}function v(e,t,n,i){try{e(t,n,i)}catch(e){S.diagLog().throwInternal(H.WARNING,Jn.SendPostOnCompleteFailure,yt(e))}}function l(i,e,t){var n=200,r=i._thePayload;try{var a,o=ut();o.sendBeacon(i.urlString,i.data)||(r?(a=[],G(r.batches,function(e){if(a&&e&&0<e.count()){for(var t=e.events(),n=0;n<t.length;n++)if(!o.sendBeacon(i.urlString,O.getEventBlob(t[n]))){a.push(e.split(n));break}}else a.push(e.split(0))}),C(a,8003,r.sendType,!0)):n=0)}catch(e){S.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+e),n=0}finally{v(e,n,{},"")}}function y(e){return 2===e||3===e}function i(e){return e=R&&y(e)?2:e}function r(){return!P&&_<t}function n(){var e=k;return k=[],e}function h(e,t,n){var i=!1;return i=e&&0<e.length&&!P&&w[t]&&O?0!==t||r()&&(0<n||x.allowRequestSending()):i}function E(e){var n={};return e&&G(e,function(e,t){n[t]={"iKey":e.iKey(),"evts":e.events()}}),n}function I(s,c,l,u,f){if(s&&0!==s.length)if(P)C(s,1,u);else{u=i(u);try{var e=s,p=0!==u;Rt(A,function(){return"HttpManager:_sendBatches"},function(e){e&&(s=s.slice(0));for(var t=[],n=null,i=pi(),r=w[u]||(p?w[1]:w[0]),a=(R||y(u)||r&&3===r._transport)&&!F&&B&&It();h(s,u,c);){var o=s.shift();o&&0<o.count()&&(V.isTenantKilled(o.iKey())?t.push(o):(n=n||O.createPayload(c,l,p,a,f,u),O.appendPayload(n,o,D)?null!==n.overflow&&(s=[n.overflow].concat(s),n.overflow=null,g(n,i,pi(),f),i=pi(),n=null):(g(n,i,pi(),f),i=pi(),s=[o].concat(s),n=null)))}n&&g(n,i,pi(),f),0<s.length&&(k=s.concat(k)),C(t,8004,u)},function(){return{"batches":E(e),"retryCount":c,"isTeardown":l,"isSynchronous":p,"sendReason":f,"useSendBeacon":y(u),"sendType":u}},!p)}catch(e){S.diagLog().throwInternal(H.WARNING,Jn.CannotSerializeObject,"Unexpected Exception sending batch: "+yt(e))}}}function e(e){var t=U,n="",i=(G(e.apiKeys,function(e){0<n.length&&(n+=","),n+=e}),0<n.length&&(t+="&apikey="+n),t+="&upload-time="+De().toString(),function(e){for(var t=0;t<e.batches.length;t++)for(var n=e.batches[t].events(),i=0;i<n.length;i++){var r=(n[i].ext||{}).intweb||{};if(j(r.msfpc))return encodeURIComponent(r.msfpc)}return""}(e));j(i)&&(t=t+"&ext.intweb.msfpc="+i),x.shouldAddClockSkewHeaders()&&(t+="&time-delta-to-apply-millis="+x.getClockSkewHeaderValue()),!A.getWParam||0<=(i=A.getWParam())&&(t+="&w="+i);for(var r=0;r<u.length;r++)t+="&"+u[r].name+"="+u[r].value;return t}function T(e,t,n){e[t]=e[t]||{},e[t][S.identifier]=n}function g(f,l,u,p){var d,g,h;f&&f.payloadBlob&&0<f.payloadBlob.length&&(d=e(f),g=pi(),h="sendAttempt",Rt(A,function(){return"HttpManager:_doPayloadSend"},function(){for(var e=0;e<f.batches.length;e++)for(var t=f.batches[e].events(),n=0;n<t.length;n++){var i,r=t[n];K&&(T(i=r.timings=r.timings||{},"sendEventStart",g),T(i,"serializationStart",l),T(i,"serializationCompleted",u)),0<r[h]?r[h]++:r[h]=1}C(f.batches,1e3+(p||0),f.sendType,!0);var a={"data":f.payloadBlob,"urlString":d,"headers":fi({},W),"_thePayload":f,"_sendReason":p},o=(ta(a.headers,Yr)||(a.headers[Yr]="no-cache, no-store"),ta(a.headers,Jr)||(a.headers[Jr]=Xr),null),s=!!m.sendHook,c=w[f.sendType];(c=!y(f.sendType)&&f.isBeacon&&2===f.sendReason&&(w[2]||w[3])||c)&&(o=function(e){function t(e,t){var i=f,u=p,n=9e3,r=null,a=!1,o=!1;try{var s,c,l=!0;if(typeof e!==X){if(t&&(x.setClockSkew(t[Zr]),s=t[Qr]||t["kill-duration-seconds"],G(V.setKillSwitchTenants(t["kill-tokens"],s),function(n){G(i.batches,function(e){var t;e.iKey()===n&&(r=r||[],t=e.split(0),i.numEvents-=t.count(),r.push(t))})})),200==e)return void(n=200);(!Kr.shouldRetryForStatus(e)||i.numEvents<=0)&&(l=!1),n=9e3+e%1e3}l&&(n=100,c=i.retryCnt,0===i.sendType&&(c<L?(a=!0,b(function(){0===i.sendType&&_--,I(i.batches,c+1,i.isTeardown,R?2:i.sendType,5)},R,Kr.getMillisToBackoffForRetry(c))):o=!0))}finally{a||(x.setClockSkew(),function(e,t,n,i){try{i&&S._backOffTransmission(),200===t&&(i||e.isSync||S._clearBackOff(),function(e){var n;K&&(n=pi(),G(e,function(e){var t;e&&0<e.count()&&(e=e.events(),t=n,K&&G(e,function(e){T(e.timings=e.timings||{},"sendEventCompleted",t)}))}))}(e.batches)),C(e.batches,t,e.sendType,!0)}finally{0===e.sendType&&(_--,5!==n&&m.sendQueuedRequests(e.sendType,n))}}(i,n,u,o)),C(r,8004,i.sendType)}}x.firstRequestSent();var n=f.isTeardown||f.isSync;try{c.sendPOST(e,t,n),m.sendListener&&m.sendListener(a,e,n,f.isBeacon)}catch(e){S.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+yt(e)),v(t,0,{})}}),Rt(A,function(){return"HttpManager:_doPayloadSend.sender"},function(){var e,t;o&&(0===f.sendType&&_++,s&&!f.isBeacon&&3!==c._transport?(e={"data":a.data,"urlString":a.urlString,"headers":fi({},a.headers)},t=!1,Rt(A,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{m.sendHook(e,function(e){t=!0,F||e._thePayload||(e._thePayload=e._thePayload||a._thePayload,e._sendReason=e._sendReason||a._sendReason),o(e)},f.isSync||f.isTeardown)}catch(e){t||o(a)}})):o(a))})},function(){return{"thePayload":f,"serializationStart":l,"serializationCompleted":u,"sendReason":p}},f.isSync)),f.sizeExceed&&0<f.sizeExceed.length&&C(f.sizeExceed,8003,f.sendType),f.failedEvts&&0<f.failedEvts.length&&C(f.failedEvts,8002,f.sendType)}function b(e,t,n){t?e():S._setTimeoutOverride(e,n)}function N(e){var t=m._responseHandlers;try{for(var n,i=0;i<t.length;i++)try{t[i](e)}catch(e){S.diagLog().throwInternal(H.CRITICAL,Jn.PostResponseHandler,"Response handler failed: "+e)}!e||j((n=JSON.parse(e)).webResult)&&j(n.webResult.msfpc)&&p.set("MSFPC",n.webResult.msfpc,31536e3)}catch(e){}}function C(e,t,n,i){var r,a;e&&0<e.length&&f&&(r=f[function(e){var t=$r[e];return j(t)||(t="oth",9e3<=e&&e<=9999?t="rspFail":8e3<=e&&e<=8999?t=qr:1e3<=e&&e<=1999&&(t="send")),t}(t)])&&Rt(A,function(){return"HttpManager:_sendBatchesNotification"},function(){b(function(){try{r.call(f,e,t,a,n)}catch(e){S.diagLog().throwInternal(H.CRITICAL,Jn.NotificationException,"send request notification failed: "+e)}},i||a,0)},function(){return{"batches":E(e),"reason":t,"isSync":a,"sendSync":i,"sendType":n}},!(a=0!==n))}m.initialize=function(e,t,n,i,r){r=r||{},U=e+M,p=(A=t).getCookieMgr(),K=!A.config.disableEventTimings;var a=!!A.config.enableCompoundKey,o=(S=n,r.valueSanitizer),s=r.stringifyObjects,o=(le(r.enableCompoundKey)||(a=!!r.enableCompoundKey),B=!mt(),O=new Br(A,o,s,a),i);i||(F=!1,(s=pt())&&s.protocol&&"file:"===s.protocol.toLowerCase()&&(d=!1),a=[],a=mt()?[2,1]:[1,2,3],(s=r.transports)&&(Ee(s)?a=[s].concat(a):Ie(s)&&(a=s.concat(a))),i=c(a,!1),o=c(a,!0),i||S.diagLog().warnToConsole("No available transport to send events")),(s={})[0]=i,s[1]=o||c([1,2,3],!0),s[2]=c([3,2,1],!0)||o,s[3]=c([2,3,1],!0)||o,w=s},m.updateEndpointUrl=function(e){U=e+M},m._getDbgPlgTargets=function(){return[w[0],V,O,w]},m.addQueryStringParameter=function(e,t){for(var n=0;n<u.length;n++)if(u[n].name===e)return void(u[n].value=t);u.push({"name":e,"value":t})},m.addHeader=function(e,t){W[e]=t},m.canSendRequest=function(){return r()&&x.allowRequestSending()},m.sendQueuedRequests=function(e,t){le(e)&&(e=0),R&&(e=i(e),t=2),h(k,e,0)&&I(n(),0,!1,e,t||0)},m.isCompletelyIdle=function(){return!P&&0===_&&0===k.length},m.setUnloading=function(e){R=e},m.addBatch=function(e){if(e&&0<e.count()){if(V.isTenantKilled(e.iKey()))return!1;k.push(e)}return!0},m.teardown=function(){0<k.length&&I(n(),0,!0,2,2)},m.pause=function(){P=!0},m.resume=function(){P=!1,m.sendQueuedRequests(0,4)},m.sendSynchronousBatch=function(e,t,n){e&&0<e.count()&&(z(t)&&(t=1),R&&(t=i(t),n=2),I([e],0,!1,t,n||0))}})},ra=ii?window:void 0,aa="eventsDiscarded",oa="overrideInstrumentationKey";function sa(){var C,_,E,k,O,R,e=na.call(this)||this,D=(e.identifier="PostChannel",e.priority=1011,!(e.version="3.1.9")),L=[],b=null,N=!1,S=0,M=500,w=0,U=1e4,V={},B=kr,n=null,F=null,A=0,W=0,P={},x=-1,K=!0,z=!1;return ne(sa,e,function(s,d){function g(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=q.Normal),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,K&&(e.ext=Fe(e.ext),e.baseData&&(e.baseData=Fe(e.baseData)),e.data&&(e.data=Fe(e.data))),e.sync)if(A||N)e.latency=q.RealTime,e.sync=!1;else if(E)return K&&(e=Fe(e)),void E.sendSynchronousBatch(Rr.create(e.iKey,[e]),!0===e.sync?1:e.sync,3);var n=e.latency,i=w,r=U,a=(n===q.Immediate&&(i=S,r=M),!1);i<r?a=!v(e,t):(i=q.Normal,r=20,n===q.Immediate&&(i=q.Immediate,r=1),a=!0,function(e,t,n,i){for(;n<=t;){var r=h(e,t,!0);if(r&&0<r.count()){var r=r.split(0,i),a=r.count();if(0<a)return n===q.Immediate?S-=a:w-=a,p(aa,[r],Y.QueueFull),!0}n++}return y(),!1}(e.iKey,e.latency,i,r)&&(a=!v(e,t))),a&&f(aa,[e],Y.QueueFull)}function i(e,t,n){var i=l(e,t,n);return E.sendQueuedRequests(t,n),i}function e(){return 0<w}function a(){0<=x&&l(x,0,R)&&E.sendQueuedRequests(0,R),!(0<S)||F||N||0<=(e=V[B][2])&&(F=r(function(){F=null,i(q.Immediate,0,1),a()},e));var e=V[B][1];!n&&!b&&0<=e&&!N&&(0<w?n=r(function(){n=null,i(0===W?q.RealTime:q.Normal,0,1),W++,W%=2,a()},e):W=0)}function r(e,t){0===t&&A&&(t=1);var n=1e3;return A&&(n=Kr.getMillisToBackoffForRetry(A-1)),s._setTimeoutOverride(e,t*n)}function o(){null!==n&&(s._clearTimeoutOverride(n),n=null,W=0)}function c(e,t){o(),b&&(s._clearTimeoutOverride(b),b=null),N||i(q.Normal,e,t)}function h(e,t,n){var i=P[t],r=(i=i||P[t=q.Normal]).iKeyMap[e];return!r&&n&&(r=Rr.create(e),i.batches.push(r),i.iKeyMap[e]=r),r}function m(e,t){E.canSendRequest()&&!A&&(t=0<k&&k<w||t)&&null==b&&s.flush(e,null,20)}function v(e,t){var n=(e=K?Fe(e):e).latency,i=h(e.iKey,n,!0);return i.addEvents([e],t)&&(n!==q.Immediate?(w++,t&&0===e.sendAttempt&&m(!e.sync,0<O&&i.count()>=O)):S++,1)}function y(){for(var n=0,i=0,e=q.Normal;e<=q.Immediate;e++)!function(t){var e=P[t];e&&e.batches&&G(e.batches,function(e){t===q.Immediate?n+=e.count():i+=e.count()})}(e);w=i,S=n}function l(i,e,t){var r=!1,n=0===e;return!n||E.canSendRequest()?Rt(s.core,function(){return"PostChannel._queueBatches"},function(){for(var t=[],n=q.Immediate;i<=n;){var e=P[n];e&&e.batches&&0<e.batches.length&&(G(e.batches,function(e){E.addBatch(e)?r=r||e&&0<e.count():t=t.concat(e.events()),n===q.Immediate?S-=e.count():w-=e.count()}),e.batches=[],e.iKeyMap={}),n--}0<t.length&&f(aa,t,Y.KillSwitch),r&&i<=x&&(x=-1,R=0)},function(){return{"latency":i,"sendType":e,"sendReason":t}},!n):(x=0<=x?Math.min(x,i):i,R=Math.max(R,t)),r}function I(e){E.isCompletelyIdle()?e():b=r(function(){I(e)},.25)}function t(){V={"REAL_TIME":[2,1,0],"NEAR_REAL_TIME":[6,3,0],"BEST_EFFORT":[18,9,0]}}function u(t,e){var n=s._notificationManager||{},i=n[t];if(i)try{i.apply(n,e)}catch(e){s.diagLog().throwInternal(H.CRITICAL,Jn.NotificationException,t+" notification failed: "+e)}}function f(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t&&0<t.length&&u(e,[t].concat(n))}function p(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];e&&0<e.length&&G(e,function(e){e&&0<e.count()&&u(t,[e.events()].concat(n))})}function T(){O=C&&C.disableAutoBatchFlushLimit?0:Math.max(1500,U/6)}t(),P[q.Immediate]={"batches":[],"iKeyMap":{}},P[q.RealTime]={"batches":[],"iKeyMap":{}},P[q.CostDeferred]={"batches":[],"iKeyMap":{}},P[q.Normal]={"batches":[],"iKeyMap":{}},T(),E=new ia(500,2,1,{"requeue":function(e,t){var n=[];G(e,function(e){e&&0<e.count()&&G(e.events(),function(e){e&&(e.sync&&(e.latency=q.Immediate,e.sync=!1),e.sendAttempt<6?(hi(e,s.identifier),g(e,!1)):n.push(e))})}),0<n.length&&f(aa,n,Y.NonRetryableStatus);z&&c(2,2)},"send":function(e,t,n){e&&0<e.length&&u("eventsSendRequest",[1e3<=t&&t<=1999?t-1e3:0,!0!==n])},"sent":function(e,t){p("eventsSent",e,t),a()},"drop":function(e,t){p(aa,e,8e3<=t&&t<=8999?t-8e3:Y.Unknown)},"rspFail":function(e){p(aa,e,Y.NonRetryableStatus),a()},"oth":function(e,t){p(aa,e,Y.Unknown),a()}}),s._getDbgPlgTargets=function(){return[E]},s.initialize=function(r,a,o){Rt(a,function(){return"PostChannel:initialize"},function(){var e=a,t=(d.initialize(r,a,o),s.setInitialized(!1),s._getTelCtx()),n=(r.extensionConfig[s.identifier]=r.extensionConfig[s.identifier]||{},C=t.getExtCfg(s.identifier),s._setTimeoutOverride=C.setTimeoutOverride||setTimeout.bind(ra),s._clearTimeoutOverride=C.clearTimeoutOverride||clearTimeout.bind(ra),K=!C.disableOptimizeObj&&!!at("chrome"),e.getWParam),t=(e.getWParam=function(){var e=0;return C.ignoreMc1Ms0CookieProcessing&&(e|=2),e|n()},0<C.eventsLimitInMem&&(U=C.eventsLimitInMem),0<C.immediateEventLimit&&(M=C.immediateEventLimit),0<C.autoFlushEventsLimit&&(k=C.autoFlushEventsLimit),T(),C.httpXHROverride&&C.httpXHROverride.sendPOST&&(_=C.httpXHROverride),j(r.anonCookieName)&&E.addQueryStringParameter("anoncknm",r.anonCookieName),E.sendHook=C.payloadPreprocessor,E.sendListener=C.payloadListener,C.overrideEndpointUrl||r.endpointUrl);function i(e){"beforeunload"!==(e||st().event).type&&(z=!0,E.setUnloading(z)),c(2,2)}s._notificationManager=r.extensionConfig.NotificationManager,E.initialize(t,s.core,s,_,C);e=r.disablePageUnloadEvents||[];Fn(i,e),Wn(i,e),Kn(function(e){z=!1,E.setUnloading(z)},r.disablePageShowEvents),s.setInitialized(!0)},function(){return{"coreConfig":r,"core":a,"extensions":o}})},s.updateEndpointUrl=function(e){s.isInitialized()&&E.updateEndpointUrl(e)},s.processTelemetry=function(e,t){hi(e,s.identifier);var n=(t=s._getTelCtx(t)).getExtCfg(s.identifier),i=!!C.disableTelemetry,r=e;(i=n?i||!!n.disableTelemetry:i)||D||(C[oa]&&(r.iKey=C[oa]),n&&n[oa]&&(r.iKey=n[oa]),g(r,!0),z?c(2,2):a()),s.processNext(r,t)},s.setEventQueueLimits=function(e,t){U=0<e?e:1e4,k=0<t?t:0,T();var n=e<w;if(!n&&0<O)for(var i=q.Normal;!n&&i<=q.RealTime;i++){var r=P[i];r&&r.batches&&G(r.batches,function(e){e&&e.count()>=O&&(n=!0)})}m(!0,n)},s.teardown=function(){c(2,2),D=!0,E.teardown()},s.pause=function(){o(),N=!0,E.pause()},s.resume=function(){N=!1,E.resume(),a()},s.addResponseHandler=function(e){E._responseHandlers.push(e)},s._loadTransmitProfiles=function(e){o(),t(),B=kr,a(),ge(e,function(e,t){var n,i=t.length;2<=i&&(n=2<i?t[2]:0,t.splice(0,i-2),t[1]<0&&(t[0]=-1),0<t[1]&&0<t[0]&&(i=t[0]/t[1],t[0]=Math.ceil(i)*t[1]),0<=n&&0<=t[1]&&n>t[1]&&(n=t[1]),t.push(n),V[e]=t)})},s.flush=function(e,t,n){void 0===e&&(e=!0),N||(o(),n=n||1,e?(l(q.Normal,0,n),y(),null==b?b=r(function(){!function e(t,n){i(q.Normal,0,n);I(function(){t&&t(),0<L.length?b=r(function(){return e(L.shift(),n)},0):(b=null,0<w&&a())})}(t,n)},0):L.push(t)):(i(q.Normal,1,n),null!=t&&t()))},s.setMsaAuthTicket=function(e){E.addHeader("AuthMsaDeviceTicket",e)},s.hasEvents=e,s._setTransmitProfile=function(e){B!==e&&void 0!==V[e]&&(o(),B=e,a())},s._backOffTransmission=function(){A<4&&(A++,o(),a())},s._clearBackOff=function(){A&&(A=0,o(),a())}}),e}y(sa,na=u);var ca=sa;function la(e,t,n){var i,r=t.length,a=function(e,t){var n;t&&150<(t=Pe(t.toString())).length&&(n=t.substring(0,150),e&&e.throwInternal(H.WARNING,S.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{"name":t},!0));return n||t}(e,t);if(a.length!==r){for(var o=0,s=a;void 0!==n[s];)o++,s=a.substring(0,147)+(i=void 0,(i="00"+o).substr(i.length-3));a=s}return a}function ua(e,t,n){var i;return void 0===n&&(n=1024),t&&(n=n||1024,(t=Pe(t)).toString().length>n&&(i=t.toString().substring(0,n),e&&e.throwInternal(H.WARNING,S.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{"value":t},!0))),i||t}function fa(e,t){return ha(e,t,2048,S.UrlTooLong)}function pa(e,t){var n;return t&&32768<t.length&&(n=t.substring(0,32768),e&&e.throwInternal(H.WARNING,S.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{"message":t},!0)),n||t}function da(n,e){var i;return e&&(i={},ge(e,function(e,t){if(pe(t)&&gt())try{t=ht().stringify(t)}catch(e){n&&n.throwInternal(H.WARNING,S.CannotSerializeObjectNonSerializable,"custom property is not valid",{"exception":e},!0)}t=ua(n,t,8192),e=la(n,e,i),i[e]=t}),e=i),e}function ga(n,e){var i;return e&&(i={},ge(e,function(e,t){e=la(n,e,i),i[e]=t}),e=i),e}function ha(e,t,n,i){var r;return t&&(t=Pe(t)).length>n&&(r=t.substring(0,n),e&&e.throwInternal(H.WARNING,i,"input is too long, it has been truncated to "+n+" characters.",{"data":t},!0)),r||t}function ma(e){var t,n=null;return w(Event)?n=new Event(e):(t=ct())&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0),n}function va(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()}function ya(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,i=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,a=Math.floor(e/864e5),t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,i=i.length<2?"0"+i:i;return(0<a?a+".":"")+(r=r.length<2?"0"+r:r)+":"+i+":"+n+"."+t}var Ia,Ta="not_specified",Ca="iKey",Ea=((e=Ia=Ia||{})[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage",0,void 0);function ba(e){try{if(z(d()))return null;var t=new Date,n=at(e===Ia.LocalStorage?"localStorage":"sessionStorage"),i=(n.setItem(t.toString(),t.toString()),n.getItem(t.toString())!==t.toString());if(n.removeItem(t.toString()),!i)return n}catch(e){}return null}function Na(){return Sa()?ba(Ia.SessionStorage):null}function Sa(){return Ea=void 0===Ea?!!ba(Ia.SessionStorage):Ea}function wa(t,e){var n=Na();if(null!==n)try{return n.getItem(e)}catch(e){Ea=!1,t.throwInternal(H.WARNING,S.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+Le(e),{"exception":yt(e)})}return null}var Aa=ct()||{},Pa=0,xa=[null,null,null,null,null];function _a(e){var t=Pa,n=xa,i=n[t];return Aa.createElement?n[t]||(i=n[t]=Aa.createElement("a")):i={"host":function(e,t){var n=function(e,t){var n=null;{var i,r;!e||null!=(r=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i))&&2<r.length&&Ce(r[2])&&0<r[2].length&&(n=r[2]||"",t&&2<r.length&&(i=(r[1]||"").toLowerCase(),r=r[3]||"",n+=r="http"===i&&":80"===r||"https"===i&&":443"===r?"":r))}return n}(e,t)||"";if(n){var i=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=i&&3<i.length&&Ce(i[2])&&0<i[2].length)return i[2]+(i[3]||"")}return n}(e,!0)},i.href=e,++t>=n.length&&(t=0),Pa=t,i}function ka(e,t){var n=null;return n=0===e||0===t||z(e)||z(t)?n:t-e}function Oa(){this.ver=2,this.properties={},this.measurements={}}y(La,Ra=Oa),La.envelopeType="Microsoft.ApplicationInsights.{0}.Event",La.dataType="EventData";var Ra,Da=La;function La(e,t,n,i){var r=Ra.call(this)||this;return r.aiDataContract={"ver":1,"name":1,"properties":0,"measurements":0},r.name=ua(e,t)||Ta,r.properties=da(e,n),r.measurements=ga(e,i),r}function Ma(){}function Ua(){this.hasFullStack=!0,this.parsedStack=[]}var Va="error",Ba="stack",Fa="stackDetails",Wa="errorSrc",Ka="message",za="description";function Ha(e,t){var n=e;return n&&!Ce(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),!t||n&&"{}"!==n||(n=w(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function Ga(e,t){var n=e;return e&&((n=n&&!Ce(n)?e[Ka]||e[za]||n:n)&&!Ce(n)&&(n=Ha(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),(n=t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(n||"").indexOf(t)?t+": "+n:n)||""}function qa(e){return e&&e.src&&Ce(e.src)&&e.obj&&Ie(e.obj)}function ja(e){var t=e||"",n=(t=Ce(t)?t:Ce(t[Ba])?t[Ba]:""+t).split("\n");return{"src":t,"obj":n}}function Xa(e){var t,n=null;if(e)try{e[Ba]?n=ja(e[Ba]):e[Va]&&e[Va][Ba]?n=ja(e[Va][Ba]):e.exception&&e.exception[Ba]?n=ja(e.exception[Ba]):qa(e)?n=e:qa(e[Fa])?n=e[Fa]:window.opera&&e[Ka]?n=function(e){for(var t=[],n=e.split("\n"),i=0;i<n.length;i++){var r=n[i];n[i+1]&&(r+="@"+n[i+1],i++),t.push(r)}return{"src":e,"obj":t}}(e.message):Ce(e)?n=ja(e):(t=e[Ka]||e[za]||"",Ce(e[Wa])&&(t&&(t+="\n"),t+=" from "+e[Wa]),t&&(n=ja(t)))}catch(e){n=ja(e)}return n||{"src":"","obj":null}}function Ya(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString()),t=n&&1<n.length?n[1]:""}catch(e){}return t}function Ja(e){if(e)try{var t,n;if(!Ce(e))return t=Ya(e),(n=Ha(e,!1))&&"{}"!==n||(e[Va]&&(t=Ya(e=e[Va])),n=Ha(e,!0)),0!==n.indexOf(t)&&"String"!==t?t+":"+n:n}catch(e){}return""+(e||"")}y($a,Qa=function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}),$a.CreateAutoException=function(e,t,n,i,r,a,o,s){var c=Ya(r||a||e);return{"message":Ga(e,c),"url":t,"lineNumber":n,"columnNumber":i,"error":Ja(r||a||e),"evt":Ja(a||e),"typeName":c,"stackDetails":Xa(o||r||a),"errorSrc":s}},$a.CreateFromInterface=function(t,e,n,i){var r=e.exceptions&&we(e.exceptions,function(e){return to.CreateFromInterface(t,e)});return new $a(t,A(A({},e),{"exceptions":r}),n,i)},$a.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,i=e.measurements,r=e.severityLevel,a=(e.ver,e.problemGroup),o=e.id,e=e.isManual;return{"ver":"4.0","exceptions":t instanceof Array&&we(t,function(e){return e.toInterface()})||void 0,"severityLevel":r,"properties":n,"measurements":i,"problemGroup":a,"id":o,"isManual":e}},$a.CreateSimpleException=function(e,t,n,i,r,a){return{"exceptions":[{"hasFullStack":!0,"message":e,"stack":r,"typeName":t}]}},$a.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",$a.dataType="ExceptionData",$a.formatError=Ja;var Qa,Za=$a;function $a(e,t,n,i,r,a){var o=Qa.call(this)||this;return o.aiDataContract={"ver":1,"exceptions":1,"severityLevel":0,"properties":0,"measurements":0},!function(e){try{if(pe(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(e){}}(t)?(o.exceptions=[new to(e,t,n=n||{})],o.properties=da(e,n),o.measurements=ga(e,i),r&&(o.severityLevel=r),a&&(o.id=a)):(o.exceptions=t.exceptions,o.properties=t.properties,o.measurements=t.measurements,t.severityLevel&&(o.severityLevel=t.severityLevel),t.id&&(o.id=t.id),t.problemGroup&&(o.problemGroup=t.problemGroup),o.ver=2,z(t.isManual)||(o.isManual=t.isManual)),o}y(no,eo=Ua),no.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&we(this.parsedStack,function(e){return e.toInterface()});return{"id":this.id,"outerId":this.outerId,"typeName":this.typeName,"message":this.message,"hasFullStack":this.hasFullStack,"stack":this[Ba],"parsedStack":e||void 0}},no.CreateFromInterface=function(e,t){var n=t.parsedStack instanceof Array&&we(t.parsedStack,function(e){return ro.CreateFromInterface(e)})||t.parsedStack;return new no(e,A(A({},t),{"parsedStack":n}))};var eo,to=no;function no(e,t,n){var i,r,a,o,s,c=eo.call(this)||this;return c.aiDataContract={"id":0,"outerId":0,"typeName":1,"message":1,"hasFullStack":0,"stack":0,"parsedStack":2},!function(e){try{if(pe(e))return"hasFullStack"in e&&"typeName"in e}catch(e){}}(t)?(i=(a=t)&&a.evt,Te(a)||(a=a[Va]||i||a),c.typeName=ua(e,Ya(a))||Ta,c.message=pa(e,Ga(t||a,c.typeName))||Ta,i=t[Fa]||Xa(t),c.parsedStack=function(e){var t=e.obj;if(t&&0<t.length){var n=[],i=0,r=0;G(t,function(e){var t=e.toString();ro.regex.test(t)&&(t=new ro(t,i++),r+=t.sizeInBytes,n.push(t))});if(32768<r)for(var a=0,o=n.length-1,s=0,c=a,l=o;a<o;){if(32768<(s+=n[a].sizeInBytes+n[o].sizeInBytes)){n.splice(c,l-c+1);break}c=a,l=o,a++,o--}}return n}(i),c[Ba]=(e=e,s="",(o=i)&&(o.obj?G(o.obj,function(e){s+=e+"\n"}):s=o.src||""),!(o=s)||32768<(a=""+o).length&&(r=a.substring(0,32768),e&&e.throwInternal(H.WARNING,S.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{"exception":o},!0)),r||o),c.hasFullStack=Ie(c.parsedStack)&&0<c.parsedStack.length,n&&(n.typeName=n.typeName||c.typeName)):(c.typeName=t.typeName,c.message=t.message,c[Ba]=t[Ba],c.parsedStack=t.parsedStack,c.hasFullStack=t.hasFullStack),c}y(ao,io=Ma),ao.CreateFromInterface=function(e){return new ao(e,null)},ao.prototype.toInterface=function(){return{"level":this.level,"method":this.method,"assembly":this.assembly,"fileName":this.fileName,"line":this.line}},ao.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,ao.baseSize=58;var io,ro=ao;function ao(e,t){var n,i=io.call(this)||this;return i.sizeInBytes=0,i.aiDataContract={"level":1,"method":1,"assembly":0,"fileName":0,"line":0},"string"==typeof e?(n=e,i.level=t,i.method="<no_method>",i.assembly=Pe(n),i.fileName="",i.line=0,(n=n.match(ao.regex))&&5<=n.length&&(i.method=Pe(n[2])||i.method,i.fileName=Pe(n[4]),i.line=parseInt(n[5])||0)):(i.level=e.level,i.method=e.method,i.assembly=e.assembly,i.fileName=e.fileName,i.line=e.line,i.sizeInBytes=0),i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=ao.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}function oo(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}var so;(e=so=so||{})[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation";y(uo,co=function(){this.kind=so.Measurement});var co,lo=uo;function uo(){var e=null!==co&&co.apply(this,arguments)||this;return e.aiDataContract={"name":1,"kind":0,"value":1,"count":0,"min":0,"max":0,"stdDev":0},e}y(go,fo=oo),go.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",go.dataType="MetricData";var fo,po=go;function go(e,t,n,i,r,a,o,s,u){var c=fo.call(this)||this,l=(c.aiDataContract={"ver":1,"metrics":1,"properties":0},new lo);return l.count=0<i?i:void 0,l.max=isNaN(a)||null===a?void 0:a,l.min=isNaN(r)||null===r?void 0:r,l.name=ua(e,t)||Ta,l.value=n,l.stdDev=isNaN(o)||null===o?void 0:o,c.metrics=[l],c.properties=da(e,s),c.measurements=ga(e,u),c}y(mo,ho=Oa);var ho,jr=mo;function mo(){var e=ho.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}y(Io,vo=jr),Io.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",Io.dataType="PageviewData";var vo,yo=Io;function Io(e,t,n,i,r,a,o){var s,c=vo.call(this)||this;return c.aiDataContract={"ver":1,"name":0,"url":0,"duration":0,"properties":0,"measurements":0,"id":0},c.id=(s=e,(o=o)&&ha(s,o,128,S.IdTooLong).toString()),c.url=fa(e,n),c.name=ua(e,t)||Ta,isNaN(i)||(c.duration=ya(i)),c.properties=da(e,r),c.measurements=ga(e,a),c}y(Eo,To=function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}),Eo.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",Eo.dataType="RemoteDependencyData";var To,Co=Eo;function Eo(e,t,u,f,n,i,r,p,a,d,g,h){void 0===a&&(a="Ajax");var o,m,s,v,c=To.call(this)||this,l=(c.aiDataContract={"id":1,"ver":1,"name":0,"resultCode":0,"duration":0,"success":0,"data":0,"target":0,"type":0,"properties":0,"measurements":0,"kind":0,"value":0,"count":0,"min":0,"max":0,"stdDev":0,"dependencyKind":0,"dependencySource":0,"commandName":0,"dependencyTypeName":0},c.id=t,c.duration=ya(n),c.success=i,c.resultCode=r+"",c.type=ua(e,a),t=e,n=p,v=s=i=f,s=(r=u)&&0<r.length?(m=(l=_a(r)).host,s||(null!=l.pathname?("/"!==(o=0===l.pathname.length?"/":l.pathname).charAt(0)&&(o="/"+o),v=l.pathname,ua(t,n?n+" "+o:o)):ua(t,r))):m=i,{"target":m,"name":s,"data":v});return c.data=fa(e,f)||l.data,c.target=ua(e,l.target),d&&(c.target=c.target+" | "+d),c.name=ua(e,l.name),c.properties=da(e,g),c.measurements=ga(e,h),c}y(So,bo=function(){this.ver=2,this.properties={},this.measurements={}}),So.envelopeType="Microsoft.ApplicationInsights.{0}.Message",So.dataType="MessageData";var bo,No=So;function So(e,t,n,i,r){var a=bo.call(this)||this;return a.aiDataContract={"ver":1,"message":1,"severityLevel":0,"properties":0},a.message=pa(e,t=t||Ta),a.properties=da(e,i),a.measurements=ga(e,r),n&&(a.severityLevel=n),a}y(Po,wo=jr);var wo,Ao=Po;function Po(){var e=wo.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}y(Oo,xo=Ao),Oo.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",Oo.dataType="PageviewPerformanceData";var xo,_o,ko=Oo;function Oo(e,t,n,i,r,a,o){var s=xo.call(this)||this;return s.aiDataContract={"ver":1,"name":0,"url":0,"duration":0,"perfTotal":0,"networkConnect":0,"sentRequest":0,"receivedResponse":0,"domProcessing":0,"properties":0,"measurements":0},s.url=fa(e,n),s.name=ua(e,t)||Ta,s.properties=da(e,r),s.measurements=ga(e,a),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest),s}(e=_o=_o||{})[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical";Do.create=function(e,t,n,i,r,a){if(n=ua(i,n)||Ta,z(e)||z(t)||z(n))throw Error("Input doesn't contain all required fields");var o="",s=(e[Ca]&&(o=e[Ca],delete e[Ca]),{"name":n,"time":Ne(new Date),"iKey":o,"ext":a||{},"tags":[],"data":{},"baseType":t,"baseData":e});return z(r)||ge(r,function(e,t){s.data[e]=t}),s};var Ro=Do;function Do(){}var Lo=function e(h,m,t,v){ne(e,this,function(e){var u,f=null,p=[],d=!1;function g(){t&&G(t.getTransmissionControls(),function(e){G(e,function(e){return e.flush(!0)})})}t&&(u=t.logger),e.trackPageView=function(n,i){var e,r=n.name,a=(!z(r)&&"string"==typeof r||(e=ct(),r=n.name=e&&e.title||""),n.uri);if(!z(a)&&"string"==typeof a||(e=pt(),a=n.uri=e&&e.href||""),!v.isPerformanceTimingSupported())return h.sendPageViewInternal(n,i),g(),void u.throwInternal(H.WARNING,S.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var o,t,s,c=!1,l=v.getPerformanceTiming().navigationStart;0<l&&(o=ka(l,+new Date),v.shouldCollectDuration(o)||(o=void 0)),z(i)||z(i.duration)||(t=i.duration),!m&&isNaN(t)||(isNaN(t)&&((i=i||{}).duration=o),h.sendPageViewInternal(n,i),g(),c=!0),i=i||{},s=function(){var e,t=!1;try{v.isPerformanceTimingDataReady()?(t=!0,e={"name":r,"uri":a},v.populatePageViewPerformanceEvent(e),e.isValid||c?(c||(i.duration=e.durationMs,h.sendPageViewInternal(n,i)),d||(h.sendPageViewPerformanceInternal(e,i),d=!0)):(i.duration=o,h.sendPageViewInternal(n,i))):0<l&&6e4<ka(l,+new Date)&&(t=!0,c||(i.duration=6e4,h.sendPageViewInternal(n,i)))}catch(e){u.throwInternal(H.CRITICAL,S.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+Le(e),{"exception":yt(e)})}return t},p.push(s),f=f||setInterval(function(){var e=p.slice(0),t=!1;p=[],G(e,function(e){e()?t=!0:p.push(e)}),0===p.length&&(clearInterval(f),f=null),t&&g()},100)}})},Mo=(Uo.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(e){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+yt(e))}},Uo.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(e){return this._logger.warnToConsole("Call to restart failed: "+yt(e)),null}},Uo.prototype.startPageVisitTimer=function(e,t){try{if(Sa()){null!=wa(this._logger,this.prevPageVisitDataKeyName)&&Ve("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new Vo(e,t),i=ht().stringify(n),r=this._logger,a=this.prevPageVisitDataKeyName,o=i,s=Na();if(null!==s)try{s.setItem(a,o)}catch(e){Ea=!1,r.throwInternal(H.WARNING,S.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+Le(e),{"exception":yt(e)})}}}catch(e){this._logger.warnToConsole("Call to start failed: "+yt(e))}},Uo.prototype.stopPageVisitTimer=function(){try{if(Sa()){var e=De(),t=wa(this._logger,this.prevPageVisitDataKeyName);if(t&&gt()){var n=ht().parse(t),i=(n.pageVisitTime=e-n.pageVisitStartTime,this._logger),r=this.prevPageVisitDataKeyName,a=Na();if(null!==a)try{a.removeItem(r)}catch(e){Ea=!1,i.throwInternal(H.WARNING,S.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+Le(e),{"exception":yt(e)})}return n}return null}return null}catch(e){return this._logger.warnToConsole("Stop page visit timer failed: "+yt(e)),null}},Uo);function Uo(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}var Vo=function(e,t){this.pageVisitStartTime=De(),this.pageName=e,this.pageUrl=t},Bo=(Fo.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),i=0,r=0,a=0,o=0,s=0;(t||n)&&(s=t?(i=t.duration,r=0===t.startTime?t.connectEnd:ka(t.startTime,t.connectEnd),a=ka(t.requestStart,t.responseStart),o=ka(t.responseStart,t.responseEnd),ka(t.responseEnd,t.loadEventEnd)):(i=ka(n.navigationStart,n.loadEventEnd),r=ka(n.navigationStart,n.connectEnd),a=ka(n.requestStart,n.responseStart),o=ka(n.responseStart,n.responseEnd),ka(n.responseEnd,n.loadEventEnd)),0===i?this._logger.throwInternal(H.WARNING,S.ErrorPVCalc,"error calculating page view performance.",{"total":i,"network":r,"request":a,"response":o,"dom":s}):this.shouldCollectDuration(i,r,a,o,s)?i<Math.floor(r)+Math.floor(a)+Math.floor(o)+Math.floor(s)?this._logger.throwInternal(H.WARNING,S.ClientPerformanceMathError,"client performance math error.",{"total":i,"network":r,"request":a,"response":o,"dom":s}):(e.durationMs=i,e.perfTotal=e.duration=ya(i),e.networkConnect=ya(r),e.sentRequest=ya(a),e.receivedResponse=ya(o),e.domProcessing=ya(s),e.isValid=!0):this._logger.throwInternal(H.WARNING,S.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{"total":i,"network":r,"request":a,"response":o,"dom":s}))},Fo.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?dt().timing:null},Fo.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?dt().getEntriesByType("navigation")[0]:null},Fo.prototype.isPerformanceNavigationTimingSupported=function(){var e=dt();return e&&e.getEntriesByType&&0<e.getEntriesByType("navigation").length},Fo.prototype.isPerformanceTimingSupported=function(){var e=dt();return e&&e.timing},Fo.prototype.isPerformanceTimingDataReady=function(){var e=dt(),e=e?e.timing:0;return e&&0<e.domainLookupStart&&0<e.navigationStart&&0<e.responseStart&&0<e.requestStart&&0<e.loadEventEnd&&0<e.responseEnd&&0<e.connectEnd&&0<e.domLoading},Fo.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=["googlebot","adsbot-google","apis-google","mediapartners-google"],i=(ut()||{}).userAgent,r=!1;if(i)for(var a=0;a<n.length;a++)r=r||-1!==i.toLowerCase().indexOf(n[a]);if(r)return!1;for(a=0;a<e.length;a++)if(e[a]<0||e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},Fo);function Fo(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}var Wo="duration",Ko="event";function zo(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}y(Go,Ho=u),Go.getDefaultConfig=function(e){return(e=e||{}).sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=va(e.disableExceptionTracking),e.autoTrackPageVisitTime=va(e.autoTrackPageVisitTime),e.overridePageViewDuration=va(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=va(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||100<=e.samplingPercentage)&&(e.samplingPercentage=100),e.isStorageUseDisabled=va(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=va(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=va(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=va(e.enableDebug),e.disableFlushOnBeforeUnload=va(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=va(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},Go.Version="2.7.1";var Ho,jr=Go;function Go(){var I,T,C,E,b,N=Ho.call(this)||this;return N.identifier="ApplicationInsightsAnalytics",N.priority=180,N.autoRoutePVDelay=500,ne(Go,N,function(v,y){var e=pt(!0);E=e&&e.href||"",v.getCookieMgr=function(){return pn(v.core)},v.processTelemetry=function(r,a){Rt(v.core,function(){return v.identifier+":processTelemetry"},function(){var e=!1,t=v._telemetryInitializers.length;a=v._getTelCtx(a);for(var n=0;n<t;++n){var i=v._telemetryInitializers[n];if(i)try{if(!1===i.apply(null,[r])){e=!0;break}}catch(e){a.diagLog().throwInternal(H.CRITICAL,S.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Le(e),{"exception":yt(e)},!0)}}e||v.processNext(r,a)},function(){return{"item":r}},!r.sync)},v.trackEvent=function(e,t){try{var n=Ro.create(e,Da.dataType,Da.envelopeType,v.diagLog(),t);v.core.track(n)}catch(e){v.diagLog().throwInternal(H.WARNING,S.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Le(e),{"exception":yt(e)})}},v.startTrackEvent=function(e){try{I.start(e)}catch(e){v.diagLog().throwInternal(H.CRITICAL,S.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+Le(e),{"exception":yt(e)})}},v.stopTrackEvent=function(e,t,n){try{I.stop(e,void 0,t)}catch(e){v.diagLog().throwInternal(H.CRITICAL,S.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+Le(e),{"exception":yt(e)})}},v.trackTrace=function(e,t){try{var n=Ro.create(e,No.dataType,No.envelopeType,v.diagLog(),t);v.core.track(n)}catch(e){v.diagLog().throwInternal(H.WARNING,S.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Le(e),{"exception":yt(e)})}},v.trackMetric=function(e,t){try{var n=Ro.create(e,po.dataType,po.envelopeType,v.diagLog(),t);v.core.track(n)}catch(e){v.diagLog().throwInternal(H.CRITICAL,S.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+Le(e),{"exception":yt(e)})}},v.trackPageView=function(e,t){try{var n=e||{};v._pageViewManager.trackPageView(n,A(A(A({},n.properties),n.measurements),t)),v.config.autoTrackPageVisitTime&&v._pageVisitTimeManager.trackPreviousPageVisit(n.name,n.uri)}catch(e){v.diagLog().throwInternal(H.CRITICAL,S.TrackPVFailed,"trackPageView failed, page view will not be collected: "+Le(e),{"exception":yt(e)})}},v.sendPageViewInternal=function(e,t,n){var i=ct(),i=(i&&(e.refUri=void 0===e.refUri?i.referrer:e.refUri),Ro.create(e,yo.dataType,yo.envelopeType,v.diagLog(),t,n));v.core.track(i)},v.sendPageViewPerformanceInternal=function(e,t,n){var i=Ro.create(e,ko.dataType,ko.envelopeType,v.diagLog(),t,n);v.core.track(i)},v.trackPageViewPerformance=function(e,t){try{v._pageViewPerformanceManager.populatePageViewPerformanceEvent(e),v.sendPageViewPerformanceInternal(e,t)}catch(e){v.diagLog().throwInternal(H.CRITICAL,S.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+Le(e),{"exception":yt(e)})}},v.startTrackPage=function(e){try{var t;"string"!=typeof e&&(e=(t=ct())&&t.title||""),T.start(e)}catch(e){v.diagLog().throwInternal(H.CRITICAL,S.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+Le(e),{"exception":yt(e)})}},v.stopTrackPage=function(e,t,n,i){try{var r,a;"string"!=typeof e&&(e=(r=ct())&&r.title||""),"string"!=typeof t&&(t=(a=pt())&&a.href||""),T.stop(e,t,n,i),v.config.autoTrackPageVisitTime&&v._pageVisitTimeManager.trackPreviousPageVisit(e,t)}catch(e){v.diagLog().throwInternal(H.CRITICAL,S.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+Le(e),{"exception":yt(e)})}},v.sendExceptionInternal=function(e,t,n){var i=e.exception||e.error||new Error(Ta),i=new Za(v.diagLog(),i,e.properties||t,e.measurements,e.severityLevel,e.id).toInterface(),i=Ro.create(i,Za.dataType,Za.envelopeType,v.diagLog(),t,n);v.core.track(i)},v.trackException=function(e,t){try{v.sendExceptionInternal(e,t)}catch(e){v.diagLog().throwInternal(H.CRITICAL,S.TrackExceptionFailed,"trackException failed, exception will not be collected: "+Le(e),{"exception":yt(e)})}},v._onerror=function(e){var t,n,i,r,a=e&&e.error,o=e&&e.evt;try{o||(l=st())&&(o=l[Ko]);var s=e&&e.url||(ct()||{}).URL,c=e.errorSrc||"window.onerror@"+s+":"+(e.lineNumber||0)+":"+(e.columnNumber||0),u={"errorSrc":c,"url":s,"lineNumber":e.lineNumber||0,"columnNumber":e.columnNumber||0,"message":e.message};r=e.message,e.url,e.lineNumber,e.columnNumber,e.error||!Ce(r)||"Script error."!==r&&"Script error"!==r?(e.errorSrc||(e.errorSrc=c),v.trackException({"exception":e,"severityLevel":_o.Error},u)):(t=Za.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",s,e.lineNumber||0,e.columnNumber||0,a,o,null,c),n=u,i=Ro.create(t,Za.dataType,Za.envelopeType,v.diagLog(),n),v.core.track(i))}catch(e){var l=a?a.name+", "+a.message:"null";v.diagLog().throwInternal(H.CRITICAL,S.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+Le(e),{"exception":yt(e),"errorString":l})}},v.addTelemetryInitializer=function(e){v._telemetryInitializers.push(e)},v.initialize=function(e,t,n,u){if(!v.isInitialized()){if(z(t))throw Error("Error initializing");y.initialize(e,t,n,u),v.setInitialized(!1);var i,f=v._getTelCtx(),p=v.identifier,r=(v.config=f.getExtCfg(p),Go.getDefaultConfig(e)),r=(void 0!==r&&ge(r,function(e,t){v.config[e]=f.getConfig(p,e,t),void 0===v.config[e]&&(v.config[e]=t)}),v.config.isStorageUseDisabled&&(Ea=!1),{"instrumentationKey":function(){return e.instrumentationKey},"accountId":function(){return v.config.accountId||e.accountId},"sessionRenewalMs":function(){return v.config.sessionRenewalMs||e.sessionRenewalMs},"sessionExpirationMs":function(){return v.config.sessionExpirationMs||e.sessionExpirationMs},"sampleRate":function(){return v.config.samplingPercentage||e.samplingPercentage},"sdkExtension":function(){return v.config.sdkExtension||e.sdkExtension},"isBrowserLinkTrackingEnabled":function(){return v.config.isBrowserLinkTrackingEnabled||e.isBrowserLinkTrackingEnabled},"appId":function(){return v.config.appId||e.appId}});v._pageViewPerformanceManager=new Bo(v.core),v._pageViewManager=new Lo(N,v.config.overridePageViewDuration,v.core,v._pageViewPerformanceManager),v._pageVisitTimeManager=new Mo(v.diagLog(),function(e,t,n){var i;i={"PageName":e,"PageUrl":t},v.trackMetric({"name":"PageVisitTime","average":n,"max":n,"min":n,"sampleCount":1},i)}),v._telemetryInitializers=v._telemetryInitializers||[];r.isBrowserLinkTrackingEnabled()||(i=["/browserLinkSignalR/","/__browserLink/"],v._telemetryInitializers.push(function(e){if(e.baseType===Co.dataType){var t=e.baseData;if(t)for(var n=0;n<i.length;n++)if(t.target&&0<=t.target.indexOf(i[n]))return!1}return!0})),(I=new qo(v.diagLog(),"trackEvent")).action=function(e,t,n,i){(i=i||{})[Wo]=n.toString(),v.trackEvent({"name":e,"properties":i})},(T=new qo(v.diagLog(),"trackPageView")).action=function(e,t,n,i,r){(i=z(i)?{}:i)[Wo]=n.toString(),v.sendPageViewInternal({"name":e,"uri":t,"properties":i,"measurements":r},i)};var s,d,a,o,g,h,c=st(),r=ft(),l=pt(!0),m=N;!1===v.config.disableExceptionTracking&&!v.config.autoExceptionInstrumented&&c&&(s=c.onerror,c.onerror=function(e,t,n,i,r){var a=c[Ko],o=s&&s(e,t,n,i,r);return!0!==o&&m._onerror(Za.CreateAutoException(e,t,n,i,r,a)),o},v.config.autoExceptionInstrumented=!0),!1===v.config.disableExceptionTracking&&!0===v.config.enableUnhandledPromiseRejectionTracking&&!v.config.autoUnhandledPromiseInstrumented&&c&&(a=c[d="onunhandledrejection"],c[d]=function(e){var t,n,i=c[Ko],r=a&&a.call(c,e);return!0!==r&&m._onerror(Za.CreateAutoException((t=e)&&t.reason?!Ce(n=t.reason)&&w(n.toString)?n.toString():yt(n):t||"",l?l.href:"",0,0,e,i)),r},v.config.autoUnhandledPromiseInstrumented=!0),!0===v.config.enableAutoRouteTracking&&r&&w(r.pushState)&&w(r.replaceState)&&c&&"undefined"!=typeof Event&&(o=N,G(n,function(e){"AppInsightsPropertiesPlugin"===e.identifier&&(C=e)}),r.pushState=(h=r.pushState,function(){var e=h.apply(this,arguments);return zo(c,ma(o.config.namePrefix+"pushState")),zo(c,ma(o.config.namePrefix+"locationchange")),e}),r.replaceState=(g=r.replaceState,function(){var e=g.apply(this,arguments);return zo(c,ma(o.config.namePrefix+"replaceState")),zo(c,ma(o.config.namePrefix+"locationchange")),e}),c.addEventListener&&(c.addEventListener(o.config.namePrefix+"popstate",function(){zo(c,ma(o.config.namePrefix+"locationchange"))}),c.addEventListener(o.config.namePrefix+"locationchange",function(){var e;C&&C.context&&C.context.telemetryTrace&&(C.context.telemetryTrace.traceID=qn(),e="_unknown_",l&&l.pathname&&(e=l.pathname+(l.hash||"")),C.context.telemetryTrace.name=ua(o.diagLog(),e)),b=(b&&(E=b),l&&l.href||""),setTimeout((function(e){o.trackPageView({"refUri":e,"properties":{"duration":0}})}).bind(N,E),o.autoRoutePVDelay)}))),v.setInitialized(!0)}}}),N}var qo=function(a,e){var o=this,s={};o.start=function(e){void 0!==s[e]&&a.throwInternal(H.WARNING,S.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{"name":e,"key":e},!0),s[e]=+new Date},o.stop=function(e,t,n,i){var r=s[e];isNaN(r)?a.throwInternal(H.WARNING,S.StopCalledWithoutStart,"stop was called without a corresponding start.",{"name":e,"key":e},!0):(r=ka(r,+new Date),o.action(e,t,r,n,i)),delete s[e],s[e]=void 0}},jo="data-bi-dnt",Xo="data-bi-mto";function Yo(n){ge(n,function(e,t){j(t)&&("{}"!==JSON.stringify(t)||"callback"===e)||delete n[e]})}function Jo(e,t,n){var i=e;if(i){for(;!t(i,n);)if(!(i=i.parentNode)||!i.getAttribute)return null;return i}}function Qo(e){return"A"===e.nodeName}function Zo(e,t){var n,i,r,a,o,s,c,l=e.getBoundingClientRect();return n=l.left,i=l.top,r=l.right,l=l.bottom,a=t.left,o=t.top,s=t.right,c=t.bottom,0<Math.max(0,Math.min(r,s)-Math.max(n,a))*Math.max(0,Math.min(l,c)-Math.max(i,o))}function $o(e){return!!j(es(e,jo))}function es(e,t){return Jo(e,ts,t)}function ts(e,t){var n=e.getAttribute(t);return j(n)||""===n}function ns(e){return"["+e+"]"}function is(n,i,r,a){var o;return function(){var e=arguments,t=!o;clearTimeout(o),o=setTimeout(function(){o=0,i&&i.apply(a,e)},r),t&&n&&n.apply(a,e)}}function rs(){var e={"h":0,"v":0},t=st(),n=ct();return e=n&&t?{"h":parseInt(n.body.scrollLeft||n.documentElement.scrollLeft||t.pageXOffset,10),"v":parseInt(n.body.scrollTop||n.documentElement.scrollTop||t.pageYOffset,10)}:e}function as(){var e,t={"h":0,"w":0},n=st(),i=ct();return n&&i&&n.screen&&(e=i.body||{},i=i.documentElement||{},t.h=n.innerHeight||e.clientHeight||i.clientHeight,t.w=n.innerWidth||e.clientWidth||i.clientWidth),t}var os,ss={"CLICKLEFT":"CL","CLICKRIGHT":"CR","CLICKMIDDLE":"CM","SCROLL":"S","ZOOM":"Z","RESIZE":"R","KEYBOARDENTER":"KE","KEYBOARDSPACE":"KS","OTHER":"O"},cs=((e=os=os||{})[e.PAGE_ACTION=0]="PAGE_ACTION",e[e.CONTENT_UPDATE=1]="CONTENT_UPDATE",{"BUTTON":!0,"CHECKBOX":!0,"RADIO":!0,"RESET":!0,"SUBMIT":!0});function ls(e){if(e){var t=Jo(e,Qo);if(t&&1===t.length){if(t[0].href)return t[0].href;if(t[0].src)return t[0].src}}return""}function us(e){if(e&&e.attributes)try{var t=e.getAttribute("data-dc");return j(t)&&"pii"===t.toLowerCase()}catch(e){return}}function fs(e,t){if(e.coreData&&e.coreData.requestUri&&""!==e.coreData.requestUri)return e.coreData.requestUri;if(!t)return null;var n,i,r,a=t.protocol+"//"+(t.hostname||t.host)+(j(t.port)?":"+t.port:"")+t.pathname;return e.urlCollectQuery&&((n=t.search)||(i=t.hash||"",-1!==(r=i.indexOf("?"))&&(n=i.slice(r))),a+=n),e.urlCollectHash&&(a+=t.hash||""),a}function ps(e,t){var n,i="",r={},a=[],o=e.cookiesToCollect;!1===e.shareAuthStatus?a=o:G(o,function(e){"ANON"!==e&&a.push(e)});try{try{ii&&window.varCustomerCookies&&0<window.varCustomerCookies.length&&(a=a.concat(window.varCustomerCookies))}catch(e){t.throwInternal(H.CRITICAL,Jn.FailedToGetCookies,"Failed to get cookies ")}G(a,function(e){r.hasOwnProperty(e)||(r[e]="",ni&&""!==(n=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")))&&(i+=e+"="+n+";"))})}catch(e){t.throwInternal(H.CRITICAL,Jn.FailedToGetCookies,"Failed to get cookies ")}return i}function ds(t){!function e(t){var n=ct()||{};/in/.test(n.readyState)?setTimeout(function(){e(t)},100):t.call()}(function(){var e;ni&&"complete"===document.readyState?t():(e=st())&&(e.addEventListener?e.addEventListener("load",function(){t()}):e.attachEvent&&e.attachEvent("onload",function(){t()}))})}var gs={"longNames":{"isShortNames":!1,"id":"data-bi-id","areaName":"data-bi-area","slotNumber":"data-bi-slot","contentName":"data-bi-name","contentSource":"data-bi-source","templateName":"data-bi-view","productId":"data-bi-product","contentType":"data-bi-type","parentId":"data-bi-parentid","parentName":"data-bi-parentname"},"shortNames":{"isShortNames":!0,"id":"data-bi-id","areaName":"data-bi-an","slotNumber":"data-bi-sn","contentName":"data-bi-cn","contentSource":"data-bi-cs","templateName":"data-bi-tn","productId":"data-bi-pid","contentType":"data-bi-ct","parentId":"data-bi-pi","parentName":"data-bi-pn"}},hs={"parentId":"parentId","parentName":"parentName"},ms={"parentId":"pI","parentName":"pN"},vs=(ys.prototype.getMetadata=function(){var e={},t={};return ni&&(t=this._getMetaDataFromDOM("awa-",!0),this._config.autoCapture&&this._config.autoCapture.msTags&&(e=this._getMetaDataFromDOM("ms.",!1))),fi(!0,t,e)},ys.prototype.getVisibleContent=function(){var e=as(),t={"top":0,"bottom":e.h,"left":0,"right":e.w},n=null,i=[];if(n=ni?document.querySelectorAll(ns(this._contentBlobFieldNames.areaName)+","+ns(this._contentBlobFieldNames.slotNumber)+","+ns(this._config.biBlobAttributeTag)):n)for(var r=0;r<n.length;r++){var a=n[r];$o(a)||!Zo(a,t)||(a=this.getElementContent(a,os.CONTENT_UPDATE))&&i.push(a)}return i},ys.prototype.getElementContent=function(e,t){if(!e)return{};var n,i,r,a={};if(this._isTracked(e))if(this._isTrackedWithDataM(e)){i=(n=e).getAttribute(this._config.biBlobAttributeTag);try{a=JSON.parse(i)}catch(e){this._traceLogger.throwInternal(H.CRITICAL,Jn.CannotParseBiBlobValue,"Can not parse "+i)}}else this._isTrackedWithDataBi(e)&&(a=fi(a,this._populateElementContentwithDataBi(r=e,e)));else if(i=(n=es(e,this._config.biBlobAttributeTag))?n.getAttribute(this._config.biBlobAttributeTag):i)try{a=JSON.parse(i)}catch(e){this._traceLogger.throwInternal(H.CRITICAL,Jn.CannotParseBiBlobValue,"Can not parse "+i)}else r=Jo(e,this._isTrackedWithDataBi),a=fi(a,this._populateElementContentwithDataBi(r,e));return Yo(a),this._config.autoCapture.lineage&&t===os.PAGE_ACTION&&(a=fi(a,this.getLineageDetails(e))),a=this._config.autoPopulateParentIdAndParentName?fi(a,this._getParentDetails(n||r,a)):a},ys.prototype.getLineageDetails=function(e){for(var t,n,i,r=[],a=[],o=this._config.biBlobAttributeTag,s="data-module-id";e;){var c=e.getAttribute(o)||e[o],u=e.getAttribute(s)||e[s];if(c){try{var l=JSON.parse(c)}catch(e){this._traceLogger.throwInternal(H.CRITICAL,Jn.CannotParseDataAttribute,"Can not parse "+c)}l&&(n=l.cN||l.cT,i=l.id||void 0,(n||i)&&(r.push(n),u&&(t=n),a.push(i)))}else n=e.getAttribute(this._contentBlobFieldNames.contentName)||e.getAttribute(this._contentBlobFieldNames.contentType),i=e.getAttribute(this._contentBlobFieldNames.id)||void 0,(n||i)&&(r.push(n),u&&(t=n),a.push(i));e=e.parentElement}return{"lineage":r.join(">"),"lineageById":a.join(">"),"lineageContainerName":t}},ys.prototype._populateElementContentwithDataBi=function(e,t){var n={};if(!e){if(!this._config.useDefaultContentName)return n;e=t}var i=es(e,this._contentBlobFieldNames.areaName),i=fi({},this._getAreaContent(i)),r=this._config.callback.contentName?this._config.callback.contentName(e,this._config.useDefaultContentName):"",a=this._getDefaultContentName(t,this._config.useDefaultContentName);(n={"id":e.getAttribute(this._contentBlobFieldNames.id)||e.id||"","aN":i.areaName,"sN":e.getAttribute(this._contentBlobFieldNames.slotNumber),"cN":r||e.getAttribute(this._contentBlobFieldNames.contentName)||a||e.getAttribute("alt")||"","cS":e.getAttribute(this._contentBlobFieldNames.contentSource)||i.contentSource,"tN":i.templateName,"pid":e.getAttribute(this._contentBlobFieldNames.productId),"cT":e.getAttribute(this._contentBlobFieldNames.contentType)||i.type,"pI":e.getAttribute(this._contentBlobFieldNames.parentId),"pN":e.getAttribute(this._contentBlobFieldNames.parentName)}).id&&n.aN&&n.sN&&n.cN||this._traceLogger.throwInternal(H.WARNING,Jn.InvalidContentBlob,"Invalid content blob.  Missing required attributes (id, aN/area, sN/slot), cN/contentName.  Content information will still be collected!"),this._contentBlobFieldNames.isShortNames||(n={"contentId":n.id,"areaName":n.aN,"slotNumber":n.sN,"contentName":n.cN,"contentSource":n.cS,"templateName":n.tN,"productId":n.pid,"contentType":n.cT,"parentId":n.pI,"parentName":n.pN});for(var o,s=0;s<e.attributes.length;s++)(o=e.attributes[s]).name!==this._contentBlobFieldNames.id&&o.name!==this._contentBlobFieldNames.areaName&&o.name!==this._contentBlobFieldNames.slotNumber&&o.name!==this._contentBlobFieldNames.contentName&&o.name!==this._contentBlobFieldNames.contentSource&&o.name!==this._contentBlobFieldNames.templateName&&o.name!==this._contentBlobFieldNames.productId&&o.name!==this._contentBlobFieldNames.contentType&&o.name!==this._contentBlobFieldNames.parentId&&o.name!==this._contentBlobFieldNames.parentName&&-1!==o.name.indexOf("data-bi-")&&(n[o.name.replace("data-bi-","")]=o.value);return n},ys.prototype._getMetaDataFromDOM=function(e,t){var n={};if(ni)for(var i=document.querySelectorAll("meta"),r=0;r<i.length;r++){var a=i[r];a.name&&0===a.name.toLowerCase().indexOf(e)&&(n[t?a.name.replace(e,""):a.name]=a.content)}return n},ys.prototype._getAreaContent=function(e){if(e)return{"areaName":e.getAttribute(this._contentBlobFieldNames.areaName),"templateName":e.getAttribute(this._contentBlobFieldNames.templateName),"contentSource":e.getAttribute(this._contentBlobFieldNames.contentSource),"product":e.getAttribute(this._contentBlobFieldNames.productId),"type":e.getAttribute(this._contentBlobFieldNames.contentType)}},ys.prototype._getDefaultContentName=function(e,t){if(!1===t||us(e)||!e.tagName)return"";var n,i=ct()||{};switch(e.tagName){case"A":n=i.all?e.innerText||e.innerHTML:e.text||e.innerHTML;break;case"IMG":case"AREA":n=e.alt;break;default:n=e.value||e.name||e.alt||e.innerText||e.id}return n.substring(0,200)},ys.prototype._getParentDetails=function(e,t){var n=(this._contentBlobFieldNames.isShortNames?ms:hs).parentId,i=(this._contentBlobFieldNames.isShortNames?ms:hs).parentName,r=t[n],a=t[i];return r||a||!e?{}:this._populateParentInfo(e,n,i)},ys.prototype._isTrackedWithDataM=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name)return!0;return!1},ys.prototype._isTrackedWithDataBi=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if(0<=t[n].name.indexOf("data-bi-"))return!0;return!1},ys.prototype._isTracked=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name||0<=t[n].name.indexOf("data-bi-"))return!0;return!1},ys.prototype._populateParentInfo=function(e,t,n){var i,r,a={},o=this._config.biBlobAttributeTag,s=Jo(e.parentElement,this._isTracked);if(s){o=s.getAttribute(o)||e[o];if(o){try{var c=JSON.parse(o)}catch(e){this._traceLogger.throwInternal(H.CRITICAL,Jn.CannotParseDataAttribute,"Can not parse "+o)}c&&(i=c.id,r=c.cN)}else i=s.getAttribute(this._contentBlobFieldNames.id),r=s.getAttribute(this._contentBlobFieldNames.contentName);i&&(a[t]=i),r&&(a[n]=r)}return a},ys);function ys(e,t){this._config=e,this._traceLogger=t,this._contentBlobFieldNames=null,this._contentBlobFieldNames=!0===this._config.useShortNameForContentBlob?gs.shortNames:gs.longNames}var Is={"BUTTON":!0,"CHECKBOX":!0,"RADIO":!0,"RESET":!0,"SUBMIT":!0},Ts=(Cs.prototype.pageView=function(){this._analyticsPlugin.capturePageView({"isAuto":!0})},Cs.prototype.onLoad=function(){var e=this;ds(function(){e._analyticsPlugin.capturePageViewPerformance({"isAuto":!0}),e._analyticsPlugin.captureContentUpdate({"isAuto":!0,"isDomComplete":!0})})},Cs.prototype.click=function(){var e,t=this,n=st(),i=ct();n&&n.addEventListener?(e=-1!==navigator.appVersion.indexOf("MSIE")?"click":"mousedown",n.addEventListener(e,function(e){t._processClick(e)},!1),n.addEventListener("keyup",function(e){t._processClick(e)},!1)):i&&i.attachEvent&&(i.attachEvent("onclick",function(e){t._processClick(e)}),i.attachEvent("keyup",function(e){t._processClick(e)}))},Cs.prototype.scroll=function(e){var t=this,n=is(null,function(){t._analyticsPlugin.captureContentUpdate({"isAuto":!0,"actionType":ss.SCROLL})},e.scroll,this),i=st();i&&(i.addEventListener?i.addEventListener("scroll",n):window.attachEvent&&window.attachEvent("onscroll",n))},Cs.prototype.maxScroll=function(t){function e(){var e=rs();t.v=(t.v>e.v?t:e).v}var n=st();n&&(n.addEventListener?n.addEventListener("scroll",e):n.attachEvent&&n.attachEvent("onscroll",e))},Cs.prototype.resize=function(e){var t=this,n=is(function(){t._analyticsPlugin.captureContentUpdate({"isAuto":!0,"actionType":ss.RESIZE})},null,e.resize,this),i=st();i&&(i.addEventListener?i.addEventListener("resize",n):i.attachEvent&&i.attachEvent("onresize",n))},Cs.prototype.onUnload=function(){var e,t=this._analyticsPlugin;function n(){t&&t.capturePageUnload({"isAuto":!0})}t&&(Fn(n,e=((t||{}).core||{}).config.disablePageUnloadEvents),Wn(n,e))},Cs.prototype._processClick=function(e){var t,n={"A":!0,"BUTTON":!0,"AREA":!0,"INPUT":!0},i=st(),r=(e=e||i.event).srcElement||e.target,a={"isAuto":!0,"clickCoordinateX":e.pageX,"clickCoordinateY":e.pageY},o="which"in(t=e)?3===t.which:"button"in t?2===t.button:void 0;if(o)a.actionType=ss.CLICKRIGHT;else if("which"in(t=e)?1===t.which:"button"in t&&1===t.button)a.actionType=ss.CLICKLEFT;else if("keyCode"in(t=e)&&13===t.keyCode)a.actionType=ss.KEYBOARDENTER;else if("keyCode"in(t=e)&&32===t.keyCode)a.actionType=ss.KEYBOARDSPACE;else{if(!("which"in(t=e)?2===t.which:"button"in t&&4===t.button))return;a.actionType=ss.CLICKMIDDLE}for(;r&&r.tagName;){if(n[(r=r.control&&n[r.control.tagName.toUpperCase()]?r.control:r).tagName.toUpperCase()]){("INPUT"!==r.tagName.toUpperCase()||Is[r.type.toUpperCase()])&&this._analyticsPlugin.capturePageAction(r,a,{},o);break}r=r.parentElement||r.parentNode}},Cs);function Cs(e,t){this._analyticsPlugin=e,this._traceLogger=t}function Es(e,t,n){var i="";return t&&t[n]?i=t[n]:e&&(i=e[n]),i}i.Behavior=void 0,(e=i.Behavior||(i.Behavior={}))[e.UNDEFINED=0]="UNDEFINED",e[e.NAVIGATIONBACK=1]="NAVIGATIONBACK",e[e.NAVIGATION=2]="NAVIGATION",e[e.NAVIGATIONFORWARD=3]="NAVIGATIONFORWARD",e[e.APPLY=4]="APPLY",e[e.REMOVE=5]="REMOVE",e[e.SORT=6]="SORT",e[e.EXPAND=7]="EXPAND",e[e.REDUCE=8]="REDUCE",e[e.CONTEXTMENU=9]="CONTEXTMENU",e[e.TAB=10]="TAB",e[e.COPY=11]="COPY",e[e.EXPERIMENTATION=12]="EXPERIMENTATION",e[e.PRINT=13]="PRINT",e[e.SHOW=14]="SHOW",e[e.HIDE=15]="HIDE",e[e.MAXIMIZE=16]="MAXIMIZE",e[e.MINIMIZE=17]="MINIMIZE",e[e.BACKBUTTON=18]="BACKBUTTON",e[e.STARTPROCESS=20]="STARTPROCESS",e[e.PROCESSCHECKPOINT=21]="PROCESSCHECKPOINT",e[e.COMPLETEPROCESS=22]="COMPLETEPROCESS",e[e.SCENARIOCANCEL=23]="SCENARIOCANCEL",e[e.DOWNLOADCOMMIT=40]="DOWNLOADCOMMIT",e[e.DOWNLOAD=41]="DOWNLOAD",e[e.SEARCHAUTOCOMPLETE=60]="SEARCHAUTOCOMPLETE",e[e.SEARCH=61]="SEARCH",e[e.SEARCHINITIATE=62]="SEARCHINITIATE",e[e.TEXTBOXINPUT=63]="TEXTBOXINPUT",e[e.PURCHASE=80]="PURCHASE",e[e.ADDTOCART=81]="ADDTOCART",e[e.VIEWCART=82]="VIEWCART",e[e.ADDWISHLIST=83]="ADDWISHLIST",e[e.FINDSTORE=84]="FINDSTORE",e[e.CHECKOUT=85]="CHECKOUT",e[e.REMOVEFROMCART=86]="REMOVEFROMCART",e[e.PURCHASECOMPLETE=87]="PURCHASECOMPLETE",e[e.VIEWCHECKOUTPAGE=88]="VIEWCHECKOUTPAGE",e[e.VIEWCARTPAGE=89]="VIEWCARTPAGE",e[e.VIEWPDP=90]="VIEWPDP",e[e.UPDATEITEMQUANTITY=91]="UPDATEITEMQUANTITY",e[e.INTENTTOBUY=92]="INTENTTOBUY",e[e.PUSHTOINSTALL=93]="PUSHTOINSTALL",e[e.SIGNIN=100]="SIGNIN",e[e.SIGNOUT=101]="SIGNOUT",e[e.SOCIALSHARE=120]="SOCIALSHARE",e[e.SOCIALLIKE=121]="SOCIALLIKE",e[e.SOCIALREPLY=122]="SOCIALREPLY",e[e.CALL=123]="CALL",e[e.EMAIL=124]="EMAIL",e[e.COMMUNITY=125]="COMMUNITY",e[e.SOCIALFOLLOW=126]="SOCIALFOLLOW",e[e.VOTE=140]="VOTE",e[e.SURVEYINITIATE=141]="SURVEYINITIATE",e[e.SURVEYCOMPLETE=142]="SURVEYCOMPLETE",e[e.REPORTAPPLICATION=143]="REPORTAPPLICATION",e[e.REPORTREVIEW=144]="REPORTREVIEW",e[e.SURVEYCHECKPOINT=145]="SURVEYCHECKPOINT",e[e.CONTACT=160]="CONTACT",e[e.REGISTRATIONINITIATE=161]="REGISTRATIONINITIATE",e[e.REGISTRATIONCOMPLETE=162]="REGISTRATIONCOMPLETE",e[e.CANCELSUBSCRIPTION=163]="CANCELSUBSCRIPTION",e[e.RENEWSUBSCRIPTION=164]="RENEWSUBSCRIPTION",e[e.CHANGESUBSCRIPTION=165]="CHANGESUBSCRIPTION",e[e.REGISTRATIONCHECKPOINT=166]="REGISTRATIONCHECKPOINT",e[e.CHATINITIATE=180]="CHATINITIATE",e[e.CHATEND=181]="CHATEND",e[e.TRIALSIGNUP=200]="TRIALSIGNUP",e[e.TRIALINITIATE=201]="TRIALINITIATE",e[e.SIGNUP=210]="SIGNUP",e[e.FREESIGNUP=211]="FREESIGNUP",e[e.PARTNERREFERRAL=220]="PARTNERREFERRAL",e[e.LEARNLOWFUNNEL=230]="LEARNLOWFUNNEL",e[e.LEARNHIGHFUNNEL=231]="LEARNHIGHFUNNEL",e[e.SHOPPINGINTENT=232]="SHOPPINGINTENT",e[e.VIDEOSTART=240]="VIDEOSTART",e[e.VIDEOPAUSE=241]="VIDEOPAUSE",e[e.VIDEOCONTINUE=242]="VIDEOCONTINUE",e[e.VIDEOCHECKPOINT=243]="VIDEOCHECKPOINT",e[e.VIDEOJUMP=244]="VIDEOJUMP",e[e.VIDEOCOMPLETE=245]="VIDEOCOMPLETE",e[e.VIDEOBUFFERING=246]="VIDEOBUFFERING",e[e.VIDEOERROR=247]="VIDEOERROR",e[e.VIDEOMUTE=248]="VIDEOMUTE",e[e.VIDEOUNMUTE=249]="VIDEOUNMUTE",e[e.VIDEOFULLSCREEN=250]="VIDEOFULLSCREEN",e[e.VIDEOUNFULLSCREEN=251]="VIDEOUNFULLSCREEN",e[e.VIDEOREPLAY=252]="VIDEOREPLAY",e[e.VIDEOPLAYERLOAD=253]="VIDEOPLAYERLOAD",e[e.VIDEOPLAYERCLICK=254]="VIDEOPLAYERCLICK",e[e.VIDEOVOLUMECONTROL=255]="VIDEOVOLUMECONTROL",e[e.VIDEOAUDIOTRACKCONTROL=256]="VIDEOAUDIOTRACKCONTROL",e[e.VIDEOCLOSEDCAPTIONCONTROL=257]="VIDEOCLOSEDCAPTIONCONTROL",e[e.VIDEOCLOSEDCAPTIONSTYLE=258]="VIDEOCLOSEDCAPTIONSTYLE",e[e.VIDEORESOLUTIONCONTROL=259]="VIDEORESOLUTIONCONTROL",e[e.VIRTUALEVENTJOIN=260]="VIRTUALEVENTJOIN",e[e.VIRTUALEVENTEND=261]="VIRTUALEVENTEND",e[e.JOINTEAMSMEETINGEVENT=262]="JOINTEAMSMEETINGEVENT",e[e.IMPRESSION=280]="IMPRESSION",e[e.CLICK=281]="CLICK",e[e.RICHMEDIACOMPLETE=282]="RICHMEDIACOMPLETE",e[e.ADBUFFERING=283]="ADBUFFERING",e[e.ADERROR=284]="ADERROR",e[e.ADSTART=285]="ADSTART",e[e.ADCOMPLETE=286]="ADCOMPLETE",e[e.ADSKIP=287]="ADSKIP",e[e.ADTIMEOUT=288]="ADTIMEOUT",e[e.OTHER=300]="OTHER";bs.prototype._setBasicProperties=function(e,t){var n,i;e.ver="1.0",e.id=this._id.getLastPageViewId(),j(e.name)||(e.name=(n=this._config,(t=t)&&t.pageName?t.pageName:n.callback&&"function"==typeof n.callback.pageName?n.callback.pageName():n.coreData&&n.coreData.pageName?n.coreData.pageName:(i=((pt()||{}).pathname||"").split("/"))&&""!==i[i.length-1]?i[i.length-1]:"Undefined")),!j(e.uri)&&ii&&(e.uri=fs(this._config,pt()))},bs.prototype._setCommonProperties=function(e,t,n){var i=this;i._setBasicProperties(e,n),i._setPageTags(e,n),i._pageTypeMetaTag=Es(i.metaTags,i._config.coreData,"pageType"),i._marketMetaTag=Es(i.metaTags,i._config.coreData,"market"),i._behaviorMetaTag=Es(i.metaTags,i._config.coreData,"behavior"),j(n.pageType)&&(e.pageType=n.pageType),j(i._pageTypeMetaTag)&&!j(e.pageType)&&(e.pageType=i._pageTypeMetaTag),j(i._marketMetaTag)&&(e.market=i._marketMetaTag),e.isLoggedIn=(n=i._config).callback&&"function"==typeof n.callback.signedinStatus?n.callback.signedinStatus():n.isLoggedIn,t.cookieEnabled=gn()},bs.prototype._setPageTags=function(e,t){var n=this;n._pageTags={},n.metaTags&&(n._pageTags.metaTags=n._pageTags.metaTags||{},ge(n.metaTags,function(e,t){"behavior"!==e&&"market"!==e&&"pageType"!==e&&(n._pageTags.metaTags[e]=t)})),n._config.coreData&&n._config.coreData.pageTags&&(n._pageTags=fi(!0,n._pageTags,n._config.coreData.pageTags)),n._pageTagsCallback&&(n._pageTags=fi(!0,n._pageTags,n._pageTagsCallback())),j(t.pageTags)&&(n._pageTags=fi(!0,n._pageTags,t.pageTags)),e.properties=e.properties||{},e.properties.pageTags=n._pageTags},bs.prototype._getBehavior=function(e){var t;return e&&j(e.behavior)?t=e.behavior:j(this._behaviorMetaTag)&&(t=this._behaviorMetaTag),this._getValidBehavior(t)},bs.prototype._getValidBehavior=function(e){if(j(e)){var t=void 0,n=parseInt(e);if((t=isNaN(n)?i.Behavior[e]:n)in i.Behavior)return t}return 0};Ao=bs;function bs(e,t,n,i,r,a,o){this._webAnalyticsPlugin=e,this._config=t,this._contentHandler=n,this._id=i,this._pageTagsCallback=r,this.metaTags=a,this._traceLogger=o,this._pageTags={}}y(ws,Ns=Ao),ws.prototype.capturePageView=function(e,t){e=j(e)?e:{};var n={},i=j(t)?t:{},r=(this._setCommonProperties(n,i,e),n.refUri=(j(e.referrerUri)?e:this._config.coreData).referrerUri,n.isManual=!e.isAuto,ps(this._config,this._traceLogger));r&&(i.cookies=r),i.behavior=this._getBehavior(e),this._webAnalyticsPlugin.trackPageView(n,i)};var Ns,Ss=ws;function ws(){return null!==Ns&&Ns.apply(this,arguments)||this}y(xs,As=Ao),xs.prototype.trackPageAction=function(e,t){var n={"web":{}},i=(n.web.isManual=e.isManual,{"name":"Ms.Web.PageAction","baseType":"PageActionData","ext":n,"data":{},"baseData":{},"latency":q.Normal});le(e.sync)||(i.sync=e.sync),i.baseData.name=e.name,i.baseData.uri=e.uri,i.baseData.market=e.market,i.baseData.pageType=e.pageType,i.baseData.isLoggedIn=e.isLoggedIn,i.baseData.id=e.id,i.baseData.properties=e.properties,i.baseData.ver=e.ver,i.baseData.actionType=e.actionType,i.baseData.behavior=e.behavior,i.baseData.clickCoordinates=e.clickCoordinates,i.baseData.content=e.content,i.baseData.contentVer=e.contentVer,i.baseData.targetUri=e.targetUri,ge(t,function(e,t){i.data[e]||(i.data[e]=t)}),this._webAnalyticsPlugin.core.track(i)},xs.prototype.capturePageAction=function(e,t,n,i){t=j(t)?t:{};var r={},a=j(n)?n:{},o=(this._setCommonProperties(r,a,t),r.isManual=!t.isAuto,r.behavior=this._getBehavior(t),{}),s=(i?r.behavior=9:(c=this._config||{},(e&&le(c.syncPageActionNavClick)||c.syncPageActionNavClick)&&(t.actionType!==ss.CLICKLEFT&&t.actionType!==ss.KEYBOARDENTER||"a"!==e.tagName.toLowerCase()||(c=(e.getAttribute("href")||"").toLowerCase())&&(me(c,"https:")||me(c,"http:")||me(c,".")||me(c,"/"))&&(r.sync=3))),e&&(r.targetUri=function(e){var t="";switch(e.tagName){case"A":case"AREA":t=e.href||"";break;case"IMG":t=ls(e);break;case"INPUT":var n=e.type;n&&cs[n.toUpperCase()]&&(n=pt()||{},t=e.form?e.form.action||n.pathname||"":n.pathname||"")}return t}(e),(o=fi(o=this._contentHandler.getElementContent(e,os.PAGE_ACTION),this._getCustomTags(e)))&&o.bhvr&&!j(t.behavior)&&(n="bhvr",(i=o)&&i[n]&&(s=i[n],delete i[n]),c=s,r.behavior=this._getValidBehavior(c))),j(t.actionType)&&(r.actionType=t.actionType),j(t.clickCoordinateX)&&j(t.clickCoordinateY)&&(r.clickCoordinates=t.clickCoordinateX+"X"+t.clickCoordinateY),j(t.targetUri)&&(r.targetUri=t.targetUri),r.contentVer="2.0",this._config.callback.pageActionContentTags),c=(r.content=ns(JSON.stringify(fi(t.content||o,"function"==typeof s?s(e):{},t&&t.contentTags?t.contentTags:{}))),a.timeToAction=this._getTimeToClick(),a.refUri=j(t.refUri)?t.refUri:this._config.coreData.referrerUri,ps(this._config,this._traceLogger));c&&(a.cookies=c),this.trackPageAction(r,a)},xs.prototype._getCustomTags=function(e){for(var t,n={};e;){if(!us(e))for(var i in e.attributes)i&&(!e.attributes[i]||(t=e.attributes[i].name)&&0===t.toLowerCase().indexOf("ms.")&&(n[t]=e.attributes[i].value));e=e.parentElement||e.parentNode}return n},xs.prototype._getTimeToClick=function(){var e=dt();if(e&&e.timing){e=e.timing.navigationStart;if(e&&0!==e)return(new Date).getTime()-e}return-1};var As,Ps=xs;function xs(){return null!==As&&As.apply(this,arguments)||this}y(Os,_s=Ao),Os.prototype.trackContentUpdate=function(t,e){var n={"web":{}},i=(n.web.isManual=t.isManual,{"name":"Ms.Web.ContentUpdate","baseType":"ContentUpdateData","ext":n,"data":{},"baseData":{},"latency":q.RealTime});G(["name","uri","market","pageType","isLoggedIn","id","properties","ver","actionType","behavior","pageHeight","content","contentVer","vpHeight","vpWidth","vScrollOffset","hScrollOffset"],function(e){i.baseData[e]=t[e]}),ge(e,function(e,t){i.data[e]||(i.data[e]=t)}),this._webAnalyticsPlugin.core.track(i)},Os.prototype.captureContentUpdate=function(e,t){e=j(e)?e:{};var n={},i=j(t)?t:{},r=(this._setCommonProperties(n,i,e),n.behavior=this._getBehavior(e),j(e.actionType)&&(n.actionType=e.actionType),as()),a=rs(),r=(n.pageHeight=ni?document.body.scrollHeight:null,n.vpHeight=r.h,n.vpWidth=r.w,n.vScrollOffset=a.v,n.hScrollOffset=a.h,n.contentVer="2.0",n.isManual=!e.isAuto,this._getContentFormatted(e.content)||JSON.stringify(this._contentHandler.getVisibleContent()));r&&(n.content=r),j(e.isDomComplete)?i.isDomComplete=e.isDomComplete:i.isDomComplete=!1,this.trackContentUpdate(n,i)},Os.prototype._getContentFormatted=function(e){if(j(e))return"[object Array]"===Object.prototype.toString.call(e)?JSON.stringify(e):ns(JSON.stringify(e))};var _s,ks=Os;function Os(){return null!==_s&&_s.apply(this,arguments)||this}y(Ls,Rs=Ao),Ls.prototype.trackPageUnload=function(e,t){var n={"web":{}},i=(n.web.isManual=e.isManual,{"name":"Ms.Web.PageUnload","baseType":"PageUnloadData","ext":n,"data":{},"baseData":{},"latency":q.RealTime}),n=this._config||{};(le(n.syncUnloadAction)||n.syncUnloadAction)&&(i.sync=3),i.baseData.name=e.name,i.baseData.uri=e.uri,i.baseData.id=e.id,i.baseData.properties=e.properties,i.baseData.ver=e.ver,i.baseData.market=e.market,i.baseData.pageType=e.pageType,i.baseData.isLoggedIn=e.isLoggedIn,ge(t,function(e,t){i.data[e]||(i.data[e]=t)}),this._webAnalyticsPlugin.core.track(i)},Ls.prototype.capturePageUnload=function(e,t){e=j(e)?e:{};var n={},i=j(t)?t:{},r=ni?document.body.scrollHeight:0;this._setBasicProperties(n,e),n.isManual=!e.isAuto,i.dwellTime=this._timestamp._recordTimeSpan("dwellTime",!0),i.scrollDepth=e.scrollDepth||this._maxScroll.v.toString()+"/"+r.toString(),i.vpHeight=as().h,i.vScrollOffset=e.vScrollOffset||this._maxScroll.v,!ii||(r=(r=dt())?r.timing:null)&&r.loadEventStart&&r.navigationStart&&0<r.loadEventStart&&(i.pageLoadTime=r.loadEventStart-r.navigationStart),this.trackPageUnload(n,i)};var Rs,Ds=Ls;function Ls(e,t,n,i,r,a){var o=Rs.call(this,e,t,null,n,{},{},i)||this;return o._webAnalyticsPlugin=e,o._config=t,o._id=n,o._traceLogger=i,o._timestamp=r,o._maxScroll=a,o}y(Vs,Ms=Ao),Vs.prototype.capturePageViewPerformance=function(e,t){e=j(e)?e:{};var n={},i=j(t)?t:{};this._setBasicProperties(n,e),this._setPageTags(n,e),n.isManual=!e.isAuto,i.behavior=this._getBehavior(e),i.vpHeight=e.vpHeight,i.vpWidth=e.vpWidth,i.framework=e.framework,i.systemTiming=e.systemTiming,i.customTiming=e.customTiming,this._webAnalyticsPlugin._populatePageViewPerformance(n),this._webAnalyticsPlugin.trackPageViewPerformance(n,i)};var Ms,Us=Vs;function Vs(){return null!==Ms&&Ms.apply(this,arguments)||this}function Bs(e){this.core=e,this.appUserId=null,this.firstPageView=!1,this._cookieMgr=pn(e),this.lastPageViewId=ui(),this.traceId=this.createTraceId()}Bs.visitorId=function(){return li(pn(null),"MUID")},Bs.prototype.createTraceId=function(){return ui().replace(/-/g,"")},Bs.prototype.getTraceId=function(){return this.traceId},Bs.prototype.getLastPageViewId=function(){return this.lastPageViewId},Bs.prototype.initializeIds=function(){this.firstPageView?(this.traceId=this.createTraceId(),this.lastPageViewId=ui()):this.firstPageView=!0},Bs.prototype.getMuidUserId=function(){var e=li(this._cookieMgr,"MUID");return e&&e.length?"t:"+e:e},Bs.prototype.setAppUserId=function(e){if(this.appUserId=null,e){for(var t=0;t<Bs.userIdPrefixes.length;t++)if(Bs.userIdPrefixes[t]===e.substring(0,2)){this.appUserId=e;break}this.appUserId}},Bs.prototype.setDeviceClass=function(e){e&&(this.deviceClass=e)},Bs.prototype.getDeviceClass=function(){return this.deviceClass},Bs.prototype.getAppUserId=function(){return this.appUserId},Bs.prototype.syncMuid=function(e){var t,n=pt();return!(!n||!e)&&(n=(n.protocol||"http:")+"//"+e+"/c.gif?DI=4050&did=1&t=",(t=ct())&&((t=t.createElement("IMG")).style.display="none",t.src=n,t.hidden="",t["aria-hidden"]="true",t.role="presentation"),!0)},Bs.prototype.getMuidHost=function(e){return{"microsoft.com":"c1.microsoft.com","xbox.com":"c.xbox.com","live.com":"c.live.com","microsoftstore.com":"c.microsoftstore.com","msn.com":"c.msn.com","windows.com":"c.windows.com","office.com":"c.office.com"}[e]},Bs.userIdPrefixes=["c:","i:","w:"];var Fs=Bs;function Ws(){this._timers=[]}Ws.prototype._recordTimeSpan=function(e,t){var n=(new Date).getTime();if(t)return n-this._timers[e];this._timers[e]=n};var Ks,zs=Ws,Hs=(y(Gs,Ks=jr),Gs);function Gs(){var u,f,p,d,I,g,h,T,m,v,y=Ks.call(this)||this,C=(y.identifier="WebAnalyticsPlugin",y.version="3.1.9",{"h":0,"v":0}),i=!1;return ne(Gs,y,function(c,s){function l(e){var n,t,i={"useDefaultContentName":!0,"useShortNameForContentBlob":!0,"debounceMs":{"scroll":600,"resize":3e3},"biBlobAttributeTag":"data-m","isLoggedIn":!1,"shareAuthStatus":!1,"cookiesToCollect":["MSFPC","ANON"],"autoCapture":{"pageView":!0,"onLoad":!0,"onUnload":!0,"click":!0,"scroll":!1,"resize":!1,"lineage":!1,"jsError":!0,"msTags":!0},"callback":{"pageName":null,"pageActionPageTags":null,"pageViewPageTags":null,"contentUpdatePageTags":null,"pageActionContentTags":null,"signedinStatus":null},"coreData":{"referrerUri":ni?document.referrer:"","requestUri":"","pageName":"","pageType":"","product":"","market":"","pageTags":{}},"autoPopulateParentIdAndParentName":!1,"syncMuid":!1,"muidDomain":"microsoft.com"},r=[];if(ge(i,function(e,t){pe(t)&&r.push(e)}),e)return t=r,Yo(n=e),G(t,function(e,t){pe(n[e])?Yo(n[e]):delete n[e]}),fi(!0,i,e)}function n(e){var t={};return void 0!==e.isManual&&(t.web={},t.web.isManual=void 0===e.isManual||e.isManual,delete e.isManual),t}c._telemetryInitializers=c._telemetryInitializers||[],c.updateCoreDataConfig=function(e){h.coreData=fi(!0,h.coreData,e)},c.refreshMetadata=function(){var e=m.getMetadata();u.metaTags=e,p.metaTags=e,f.metaTags=e,I.metaTags=e},c.initialize=function(e,t,n){var i=t,r=(e.extensionConfig=e.extensionConfig||[],e.extensionConfig[c.identifier]=e.extensionConfig[c.identifier]||{},c._config=h=l(e.extensionConfig[c.identifier]),h.autoCapture),a=i.getWParam;if(i.getWParam=function(){var e=0;return h.mscomCookies&&(e|=1),e|a()},e.extensionConfig[c.identifier].disableExceptionTracking=!r.jsError,s.initialize(e,t,n),m=m||new vs(h,c.diagLog()),v=v||new Ts(c,c.diagLog()),h.manageCv){for(var o=0;o<n.length;o++)if("CorrelationVectorPlugin"===n[o].identifier){h.manageCv=!0,g=n[o];break}g||(c.diagLog().throwInternal(H.WARNING,Jn.CVPluginNotAvailable,'Automatic Cv management is set to "true" in config.  However, cv plugin is not available. Disabling automatic Cv management'),h.manageCv=!1)}c.id=new Fs(t),T=new zs;i=m.getMetadata();u=new Ss(y,h,m,c.id,h.callback.pageViewPageTags,i,c.diagLog()),f=new Ps(y,h,m,c.id,h.callback.pageActionPageTags,i,c.diagLog()),p=new ks(y,h,m,c.id,h.callback.contentUpdatePageTags,i,c.diagLog()),d=new Ds(y,h,c.id,c.diagLog(),T,C),I=new Us(y,h,m,c.id,h.callback.pageViewPageTags,i,c.diagLog()),h.syncMuid&&ds(function(){var e=c.id.getMuidHost(h.muidDomain);c.id.syncMuid(e)}),r.pageView&&v.pageView(),r.onLoad&&v.onLoad(),r.click&&v.click(),r.scroll&&v.scroll(h.debounceMs),r.resize&&v.resize(h.debounceMs),(r.onUnload||h.manualPageUnload)&&v.maxScroll(C),r.onUnload&&v.onUnload()},c.processTelemetry=function(e,t){hi(e,c.identifier);for(var n=e,i=("PageviewData"===n.baseType?(n.name="Ms.Web.PageView",n.latency=q.RealTime):"ExceptionData"===n.baseType?(n.name="Ms.Web.ClientError",n.latency=q.Normal,delete n.baseData.aiDataContract):"PageviewPerformanceData"===n.baseType&&(n.name="Ms.Web.PageViewPerformance",n.latency=q.Normal,delete n.baseData.isValid,delete n.baseData.durationMs),null),r=("PageviewData"!==n.baseType?h.manageCv&&(i=g.getCv())&&i.increment():h.manageCv&&((i=g.getCv())?i.seed():i=g.getCv()),!1),a=c._telemetryInitializers.length,o=0;o<a;++o){var s=c._telemetryInitializers[o];if(s&&!1===s.apply(null,[n])){r=!0;break}}r||c.processNext(n,t)},c.addTelemetryInitializer=function(e){c._telemetryInitializers.push(e)},c.trackEvent=function(n,e){n.latency=n.latency||q.Normal,n.baseData=n.baseData||{},n.data=n.data||{},j(e)&&ge(e,function(e,t){n.data[e]=t}),c.core.track(n)},c.trackPageView=function(e,t){T._recordTimeSpan("dwellTime",!1),C.v=0,i=!1,c.id.initializeIds(),e.id=c.id.getLastPageViewId(),s.sendPageViewInternal(e,t,n(e))},c.capturePageView=function(e,t){u.capturePageView(e,t)},c.trackPageViewPerformance=function(e,t){s.sendPageViewPerformanceInternal(e,t,n(e))},c.capturePageViewPerformance=function(e,t){I.capturePageViewPerformance(e,t)},c.trackException=function(e,t){e.id=e.id||ui(),s.sendExceptionInternal(e,t,n(e))},c.trackPageAction=function(e,t){f.trackPageAction(e,t)},c.capturePageAction=function(e,t,n,i){var r,a;r=e,(a=t)&&a.isAuto&&j(es(r,Xo))||$o(r)||f.capturePageAction(e,t,n,i)},c.trackContentUpdate=function(e,t){p.trackContentUpdate(e,t)},c.captureContentUpdate=function(e,t){p.captureContentUpdate(e,t)},c.trackPageUnload=function(e,t){i||(i=!0,d.trackPageUnload(e,t))},c.capturePageUnload=function(e,t){i||(i=!0,d.capturePageUnload(e,t))},c._populatePageViewPerformance=function(e){c._pageViewPerformanceManager.populatePageViewPerformanceEvent(e)},c.setContentHandler=function(e){m=e},c.setAutoCaptureHandler=function(e){v=e}}),y}var qs,js=["snippet","_webAnalytics","_postChannel","_propertyManager","_extensions"],u=(y(Xs,qs=Nn),Xs.prototype.initialize=function(r,a){var o=this,s=this;Rt(s,function(){return"ApplicationInsights:initialize"},function(){var e=[s._propertyManager,s._webAnalytics];if(a&&(e=e.concat(a)),r||Ve("You must provide a config object!"),r.channels&&0<r.channels.length){for(var t=!1,n=0;n<r.channels[0].length;n++)if(r.channels[0][n].identifier===s._postChannel.identifier){t=!0;break}t||r.channels[0].push(s._postChannel)}else r.channels=[[s._postChannel]];var i=r.extensionConfig=r.extensionConfig||[];i[s._postChannel.identifier]=r?r.channelConfiguration:{},i[s._propertyManager.identifier]=r?r.propertyConfiguration:{},i[s._webAnalytics.identifier]=r?r.webAnalyticsConfiguration:{};try{qs.prototype.initialize.call(o,r,e)}catch(e){s.logger.throwInternal(H.CRITICAL,Jn.FailedToInitializeSDK,"Failed to initialize SDK."+yt(e))}},function(){return{"config":r,"extensions":a}})},Xs.prototype.getPropertyManager=function(){return this._propertyManager},Xs.prototype.getPostChannel=function(){return this._postChannel},Xs.prototype.getWebAnalyticsExtension=function(){return this._webAnalytics},Xs.prototype.addTelemetryInitializer=function(e){this._webAnalytics.addTelemetryInitializer(e)},Xs.prototype.trackEvent=function(e,t){this._webAnalytics.trackEvent(e,t)},Xs.prototype.trackPageView=function(e,t){this._webAnalytics.trackPageView(e,t)},Xs.prototype.trackPageAction=function(e,t){this._webAnalytics.trackPageAction(e,t)},Xs.prototype.trackContentUpdate=function(e,t){this._webAnalytics.trackContentUpdate(e,t)},Xs.prototype.trackPageUnload=function(e,t){this._webAnalytics.trackPageUnload(e,t)},Xs.prototype.trackException=function(e,t){this._webAnalytics.trackException(e,t)},Xs.prototype.trackPageViewPerformance=function(e,t){this._webAnalytics.trackPageViewPerformance(e,t)},Xs.prototype.capturePageView=function(e,t){this._webAnalytics.capturePageView(e,t)},Xs.prototype.capturePageViewPerformance=function(e,t){this._webAnalytics.capturePageViewPerformance(e,t)},Xs.prototype.capturePageAction=function(e,t,n,i){this._webAnalytics.capturePageAction(e,t,n,i)},Xs.prototype.captureContentUpdate=function(e,t){this._webAnalytics.captureContentUpdate(e,t)},Xs.prototype.capturePageUnload=function(e,t){this._webAnalytics.capturePageUnload(e,t)},Xs.prototype._onerror=function(e){this._webAnalytics._onerror(e)},Xs.prototype.emptySnippetQueue=function(n){var e=this;try{if(n&&(z(e._snippetVersion)||e._snippetVersion,ge(e,function(e,t){Ce(e)&&!w(t)&&e&&"_"!==e[0]&&-1===js.indexOf(e)&&(n[e]=t)})),Ie(n.queue)){for(var t=n.queue.length,i=0;i<t;i++)(0,n.queue[i])();n.queue=void 0,delete n.queue}}catch(e){e&&w(e.toString)&&e.toString()}},Xs.prototype.updateSnippetDefinitions=function(e){this.snippet=e,this._snippetVersion=""+(e.sv||e.version||""),Be(e,this,function(e){return e&&-1===js.indexOf(e)})},Xs.prototype.updateEndpointUrl=function(e){this.isInitialized()||Ve("The ApplicationInsights hasn't been initialized yet!"),this._postChannel.flush(),this._postChannel.updateEndpointUrl(e),this.config.endpointUrl=e},Xs);function Xs(){var e=qs.call(this)||this;return e._postChannel=new ca,e._propertyManager=new _r,e._webAnalytics=new Hs,e}try{var Ys,Js,Qs,Zs=d();Zs&&"undefined"!=typeof JSON&&void 0!==Zs[Qs=Zs.onedsSDK||"oneDSWeb"]&&(Ys=Zs[Qs],(Js=new u).updateSnippetDefinitions(Ys),Js.initialize(Ys.config,Ys.extensions),(Zs[Qs]=Js).emptySnippetQueue(Ys))}catch(e){console&&console.warn("Failed to initialize AppInsights JS SDK for instance "+Qs+e.message)}i.ActionType=ss,i.AppInsightsCore=Nn,i.ApplicationInsights=u,i.BE_PROFILE=Or,i.CoreUtils=yi,i.DiagnosticLogger=At,i.EventLatency=q,i.EventPersistence={"Normal":1,"Critical":2},i.EventsDiscardedReason=Y,i.MinChannelPriorty=100,i.NRT_PROFILE=Bi,i.NotificationManager=bn,i.PostChannel=ca,i.PropertiesPlugin=_r,i.RT_PROFILE=kr,i.TraceLevel={"NONE":0,"ERROR":1,"WARNING":2,"INFORMATION":3},i.Utils=vi,i.ValueKind=Xn,i.WebAnalytics=Hs;var e=i,$s="__esModule",ec={"value":!0},Ao=Object.defineProperty;if(Ao)try{return Ao(e,$s,ec)}catch(e){}e[$s]=ec.value}(this.oneDS=this.oneDS||{});